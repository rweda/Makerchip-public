<!DOCTYPE html>
<html>
<head>
   <meta charset="utf-8">
   <meta http-equiv="X-UA-Compatible" content="IE=edge">
   <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
   <meta http-equiv="description" content="flow.m4out.html">
   <meta http-equiv="keywords" content="tl-verilog">

   <title>flow.m4out.tlv</title>

   <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
   <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/themes/smoothness/jquery-ui.css">
   <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js"></script>
   <script src="http://www.rweda.com/lib/sp_1.14-2022_10_10-beta-Pro/ide.js"></script>
   <link rel="stylesheet" href="http://www.rweda.com/lib/sp_1.14-2022_10_10-beta-Pro/ide.css" />

<style>
/*
Copyright (c) 2015, Steven F. Hoover
All rights reserved.
*/
.tlv_ident_error {
  color: red;
  font-style: normal;
  font-weight: normal;
}
.tlv_ident_pipeline {
  color: orange;
  font-style: normal;
  font-weight: normal;
}
.tlv_ident_beh_hier_1 {
  color: #1090c0;
  font-style: normal;
  font-weight: normal;
}
.tlv_ident_beh_hier_2 {
  color: #1090c0;
  font-style: normal;
  font-weight: normal;
}
.tlv_ident_grouping {
  color: #1090c0;
  font-style: normal;
  font-weight: normal;
}
.tlv_ident_pipe_sig {
  color: purple;
  font-style: normal;
  font-weight: normal;
}
.tlv_ident_state_sig {
  color: purple;
  font-style: normal;
  font-weight: normal;
}
.tlv_ident_sig_keyword {
  color: purple;
  font-style: normal;
  font-weight: normal;
}
.tlv_ident_assigned_pipe_sig {
  color: purple;
  font-style: normal;
  font-weight: 600;
}
.tlv_ident_assigned_state_sig {
  color: purple;
  font-style: normal;
  font-weight: 600;
}
.tlv_ident_assigned_sig_keyword {
  color: purple;
  font-style: normal;
  font-weight: 600;
}
.tlv_ident_assigned_pipe_reg {
  color: purple;
  font-style: normal;
  font-weight: 600;
}
.tlv_ident_assigned_state_reg {
  color: purple;
  font-style: normal;
  font-weight: 600;
}
.tlv_ident_assigned_reg_keyword {
  color: purple;
  font-style: normal;
  font-weight: 600;
}
.tlv_ident_malformed_sig {
  color: purple;
  font-style: normal;
  font-weight: normal;
}
.tlv_ident_malformed_assigned_sig {
  color: purple;
  font-style: normal;
  font-weight: 600;
}
.tlv_ident_malformed_assigned_reg {
  color: purple;
  font-style: normal;
  font-weight: 600;
}
.tlv_ident_when {
  color: #E04010;
  font-style: normal;
  font-weight: normal;
}
.tlv_ident_sv_when {
  color: #E04010;
  font-style: normal;
  font-weight: normal;
}
.tlv_ident_phys_hier {
  color: blue;
  font-style: italic;
  font-weight: normal;
}
.tlv_ident_phys_beh_hier {
  color: #1090c0;
  font-style: normal;
  font-weight: normal;
}
.tlv_ident_stage_name {
  color: #509050;
  font-style: italic;
  font-weight: normal;
}
.tlv_ident_stage_expr {
  color: #509050;
  font-style: italic;
  font-weight: normal;
}
.tlv_ident_stage_next_operator {
  color: #509050;
  font-style: italic;
  font-weight: normal;
}
.tlv_ident_stage_incr_expr {
  color: #509050;
  font-style: italic;
  font-weight: normal;
}
.tlv_ident_stage_prev_operator {
  color: #509050;
  font-style: italic;
  font-weight: normal;
}
.tlv_ident_stage_decr_expr {
  color: #509050;
  font-style: italic;
  font-weight: normal;
}
.tlv_ident_alignment_expr_1ab {
  color: #00D000;
  font-style: normal;
  font-weight: 600;
}
.tlv_ident_alignment_expr_1c {
  color: #00D000;
  font-style: normal;
  font-weight: 600;
}
.tlv_ident_alignment_keyword_1c {
  color: #00D000;
  font-style: normal;
  font-weight: 600;
}
.tlv_ident_alignment_ahead_expr {
  color: #00D000;
  font-style: normal;
  font-weight: 600;
}
.tlv_ident_alignment_behind_expr {
  color: #00D000;
  font-style: normal;
  font-weight: 600;
}
.tlv_ident_alignment_zero_expr {
  color: #00D000;
  font-style: normal;
  font-weight: 600;
}
.tlv_ident_alignment_crosspipe_name {
  color: #00D000;
  font-style: normal;
  font-weight: 600;
}
.tlv_ident_alignment_ahead_name {
  color: #00D000;
  font-style: normal;
  font-weight: 600;
}
.tlv_ident_alignment_behind_name {
  color: #00D000;
  font-style: normal;
  font-weight: 600;
}
.tlv_ident_tlv_attribute {
  color: #503890;
  font-style: italic;
  font-weight: normal;
}
.tlv_ident_proj_rtl_attribute {
  color: #503890;
  font-style: italic;
  font-weight: normal;
}
.tlv_ident_misc_rtl_attribute {
  color: #503890;
  font-style: italic;
  font-weight: normal;
}
.tlv_ident_proj_attribute {
  color: #503890;
  font-style: italic;
  font-weight: normal;
}
.tlv_ident_sv_sig {
  color: #00008b;
  font-style: normal;
  font-weight: normal;
}
.tlv_ident_sv_datatype {
  color: DarkRed;
  font-style: normal;
  font-weight: normal;
}
.tlv_ident_keyword1 {
  color: Blue;
  font-style: normal;
  font-weight: normal;
}
.tlv_ident_comment {
  color: #808080;
  font-style: italic;
  font-weight: 600;
}
.tlv_ident_hdl_code {
  color: #00008b;
  font-style: normal;
  font-weight: normal;
}

</style>

</head>

<body>

<h2>flow.m4out.tlv</h2>

<pre>
<span class="tlx_except_node_anchor no-select"><span class=tlx_except_container>                                                   <span class="tlx_except" sev="inform" title="This version of SandPiper can read this TL-X Version (1c),
but your version and license support TL-X 1d.
To up-rev this file to TL-X 1d use &quot;--scrub&quot;.">  </span></span></span><span class="line" line-num="1" source-line-num="1"><span class="tlv_ident_keyword1">\TLV_version 1c: tl-x.org</span></span>
<span class="line" line-num="2" source-line-num="2"><span class="tlv_ident_keyword1">\SV</span></span>
<span class="line" line-num="3" source-line-num="3"><span class="tlv_ident_comment">/*</span></span>
<span class="line" line-num="4" source-line-num="4"><span class="tlv_ident_comment">Copyright (c) 2018, Steve Hoover</span></span>
<span class="line" line-num="5" source-line-num="5"><span class="tlv_ident_comment">All rights reserved.</span></span>
<span class="line" line-num="6" source-line-num="6"></span>
<span class="line" line-num="7" source-line-num="7"><span class="tlv_ident_comment">Redistribution and use in source and binary forms, with or without</span></span>
<span class="line" line-num="8" source-line-num="8"><span class="tlv_ident_comment">modification, are permitted provided that the following conditions are met:</span></span>
<span class="line" line-num="9" source-line-num="9"></span>
<span class="line" line-num="10" source-line-num="10"><span class="tlv_ident_comment">* Redistributions of source code must retain the above copyright notice, this</span></span>
<span class="line" line-num="11" source-line-num="11">  <span class="tlv_ident_comment">list of conditions and the following disclaimer.</span></span>
<span class="line" line-num="12" source-line-num="12"></span>
<span class="line" line-num="13" source-line-num="13"><span class="tlv_ident_comment">* Redistributions in binary form must reproduce the above copyright notice,</span></span>
<span class="line" line-num="14" source-line-num="14">  <span class="tlv_ident_comment">this list of conditions and the following disclaimer in the documentation</span></span>
<span class="line" line-num="15" source-line-num="15">  <span class="tlv_ident_comment">and/or other materials provided with the distribution.</span></span>
<span class="line" line-num="16" source-line-num="16"></span>
<span class="line" line-num="17" source-line-num="17"><span class="tlv_ident_comment">* Neither the name of the copyright holder nor the names of its</span></span>
<span class="line" line-num="18" source-line-num="18">  <span class="tlv_ident_comment">contributors may be used to endorse or promote products derived from</span></span>
<span class="line" line-num="19" source-line-num="19">  <span class="tlv_ident_comment">this software without specific prior written permission.</span></span>
<span class="line" line-num="20" source-line-num="20"></span>
<span class="line" line-num="21" source-line-num="21"><span class="tlv_ident_comment">THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot;</span></span>
<span class="line" line-num="22" source-line-num="22"><span class="tlv_ident_comment">AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE</span></span>
<span class="line" line-num="23" source-line-num="23"><span class="tlv_ident_comment">IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE</span></span>
<span class="line" line-num="24" source-line-num="24"><span class="tlv_ident_comment">DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE</span></span>
<span class="line" line-num="25" source-line-num="25"><span class="tlv_ident_comment">FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL</span></span>
<span class="line" line-num="26" source-line-num="26"><span class="tlv_ident_comment">DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR</span></span>
<span class="line" line-num="27" source-line-num="27"><span class="tlv_ident_comment">SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER</span></span>
<span class="line" line-num="28" source-line-num="28"><span class="tlv_ident_comment">CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,</span></span>
<span class="line" line-num="29" source-line-num="29"><span class="tlv_ident_comment">OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE</span></span>
<span class="line" line-num="30" source-line-num="30"><span class="tlv_ident_comment">OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span></span>
<span class="line" line-num="31" source-line-num="31"><span class="tlv_ident_comment">*/</span></span>
<span class="line" line-num="32" source-line-num="32"><span class="tlv_ident_hdl_code">module top(input logic clk, input logic reset, input logic [15:0] cyc_cnt, output logic passed, output logic failed);    </span><span class="tlv_ident_comment">/* verilator lint_off UNOPTFLAT */  </span><span class="tlv_ident_hdl_code">bit [256:0] RW_rand_raw; bit [256+63:0] RW_rand_vect; pseudo_rand #(.WIDTH(257)) pseudo_rand (clk, reset, RW_rand_raw[256:0]); assign RW_rand_vect[256+63:0] = {RW_rand_raw[62:0], RW_rand_raw};  </span><span class="tlv_ident_comment">/* verilator lint_on UNOPTFLAT */</span></span>
<span class="line" line-num="33" source-line-num="33"><span class="tlv_ident_comment">//m4_makerchip_module()</span></span>
<span class="line" line-num="34" source-line-num="34"><span class="tlv_ident_comment">/* verilator lint_off UNOPTFLAT */  // Probably want to make this a default in Makerchip. See what happens when uprev'ed to 1d.</span></span>
<span class="line" line-num="35" source-line-num="35"></span>
<span class="line" line-num="36" source-line-num="36"></span>
<span class="line" line-num="37" source-line-num="37"><span class="tlv_ident_hdl_code">parameter RING_STOPS = 4;</span></span>
<span class="line" line-num="38" source-line-num="38"></span>
<span class="line" line-num="39" source-line-num="39"><span class="tlv_ident_hdl_code">parameter RING_STOPS_WIDTH = 2;  </span><span class="tlv_ident_comment">//$clog2(RING_STOPS); // roundup(log2(RING_STOPS))</span></span>
<span class="line" line-num="40" source-line-num="40"></span>
<span class="line" line-num="41" source-line-num="41"><span class="tlv_ident_hdl_code">parameter PACKET_SIZE = 16;</span></span>
<span class="line" line-num="42" source-line-num="42"></span>
<span class="line" line-num="43" source-line-num="43"><span class="tlv_ident_keyword1">\TLV</span></span>
<span class="line" line-num="44" source-line-num="44"></span>
<span class="line" line-num="45" source-line-num="45">   <span class="tlv_ident_comment">// testbench</span></span>
<span class="line" line-num="46" source-line-num="46">   <span class="tlv_ident_beh_hier_1" logical_entity="&gt;tb">&gt;tb</span></span>
<span class="line" line-num="47" source-line-num="47">      <span class="tlv_ident_pipeline" logical_entity="&gt;tb|count">|count</span></span>
<span class="line" line-num="48" source-line-num="48">         <span class="tlv_ident_stage_expr" logical_entity="&gt;tb|count@0">@0</span></span>
<span class="line" line-num="49" source-line-num="49">            <span class="tlv_ident_alignment_keyword_1c" logical_entity="&gt;tb|count@-2">%next</span><span class="tlv_ident_assigned_state_sig" logical_entity="&gt;tb|count$CycCount"stage_in_phases="-2">$CycCount</span><span class="tlv_ident_state_sig">[</span><span class="tlv_ident_hdl_code">15</span><span class="tlv_ident_state_sig">:</span><span class="tlv_ident_hdl_code">0</span><span class="tlv_ident_state_sig">] </span><span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_1" logical_entity=""tlx_ref="">&gt;top</span><span class="tlv_ident_pipeline" logical_entity="|default"tlx_ref="">|default</span><span class="tlv_ident_alignment_expr_1c" logical_entity="|default@2">%+1</span><span class="tlv_ident_pipe_sig" logical_entity="|default$reset"stage_in_phases="2">$reset</span> <span class="tlv_ident_hdl_code">? 16'b0 :</span></span>
<span class="line" line-num="50" source-line-num="50">                                                           <span class="tlv_ident_state_sig" logical_entity="&gt;tb|count$CycCount"stage_in_phases="0">$CycCount</span> <span class="tlv_ident_hdl_code">+ 1;</span></span>
<span class="line" line-num="51" source-line-num="51">            <span class="tlv_ident_keyword1">\SV_plus</span></span>
<span class="line" line-num="52" source-line-num="52">               <span class="tlv_ident_hdl_code">always_ff @(posedge clk) begin</span></span>
<span class="line" line-num="53" source-line-num="53">                  <span class="tlv_ident_sv_sig">\</span><span class="tlv_ident_hdl_code">$display(&quot;Cycle: %0d&quot;, </span><span class="tlv_ident_state_sig" logical_entity="&gt;tb|count$CycCount"stage_in_phases="0">$CycCount</span><span class="tlv_ident_hdl_code">);</span></span>
<span class="line" line-num="54" source-line-num="54">               <span class="tlv_ident_hdl_code">end</span></span>
<span class="line" line-num="55" source-line-num="55">      <span class="tlv_ident_beh_hier_1" logical_entity="&gt;tb&gt;ring_stop">&gt;ring_stop</span><span class="tlv_ident_beh_hier_1">[</span><span class="tlv_ident_hdl_code">RING_STOPS-1</span><span class="tlv_ident_beh_hier_1">:</span><span class="tlv_ident_hdl_code">0</span><span class="tlv_ident_beh_hier_1">]</span></span>
<span class="line" line-num="56" source-line-num="56">         <span class="tlv_ident_comment">// STIMULUS</span></span>
<span class="line" line-num="57" source-line-num="57">         <span class="tlv_ident_pipeline" logical_entity="&gt;tb&gt;ring_stop|send">|send</span></span>
<span class="line" line-num="58" source-line-num="58">            <span class="tlv_ident_stage_expr" logical_entity="&gt;tb&gt;ring_stop|send@0">@0</span></span>
<span class="line" line-num="59" source-line-num="59">               <span class="tlv_ident_assigned_pipe_sig" logical_entity="&gt;tb&gt;ring_stop|send$valid_in"stage_in_phases="0">$valid_in</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;tb"tlx_ref="">&gt;tb</span><span class="tlv_ident_pipeline" logical_entity="&gt;tb|count"tlx_ref="">|count</span><span class="tlv_ident_alignment_expr_1c" logical_entity="&gt;tb|count@0">%+0</span><span class="tlv_ident_state_sig" logical_entity="&gt;tb|count$CycCount"stage_in_phases="0">$CycCount</span> <span class="tlv_ident_hdl_code">== 3;</span></span>
<span class="line" line-num="60" source-line-num="60">               <span class="tlv_ident_when">?$valid_in</span></span>
<span class="line" line-num="61" source-line-num="61">                  <span class="tlv_ident_beh_hier_1" logical_entity="&gt;tb&gt;ring_stop|send&gt;gen_trans">&gt;gen_trans</span></span>
<span class="line" line-num="62" source-line-num="62">                     <span class="tlv_ident_assigned_pipe_sig" logical_entity="&gt;tb&gt;ring_stop|send&gt;gen_trans$sender"stage_in_phases="0">$sender</span><span class="tlv_ident_pipe_sig">[</span><span class="tlv_ident_hdl_code">RING_STOPS_WIDTH-1</span><span class="tlv_ident_pipe_sig">:</span><span class="tlv_ident_hdl_code">0</span><span class="tlv_ident_pipe_sig">] </span><span class="tlv_ident_hdl_code">= ring_stop;</span></span>
<span class="line" line-num="63" source-line-num="63">                     <span class="tlv_ident_comment">//m4_rand($size, M4_PACKET_SIZE-1, 0, ring_stop) // unused</span></span>
<span class="line" line-num="64" source-line-num="64">                     <span class="tlv_ident_assigned_pipe_sig" logical_entity="&gt;tb&gt;ring_stop|send&gt;gen_trans$dest_tmp"stage_in_phases="0">$dest_tmp</span><span class="tlv_ident_pipe_sig">[</span><span class="tlv_ident_hdl_code">2-1</span><span class="tlv_ident_pipe_sig">:</span><span class="tlv_ident_hdl_code">0</span><span class="tlv_ident_pipe_sig">] </span><span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_sv_sig">*</span><span class="tlv_ident_hdl_code">RW_rand_vect[(0 + (ring_stop)) % 257 +: 2];</span></span>
<span class="line" line-num="65" source-line-num="65">                     <span class="tlv_ident_comment">/* verilator lint_off WIDTH */</span></span>
<span class="line" line-num="66" source-line-num="66">                     <span class="tlv_ident_assigned_pipe_sig" logical_entity="&gt;tb&gt;ring_stop|send&gt;gen_trans$dest"stage_in_phases="0">$dest</span><span class="tlv_ident_pipe_sig">[</span><span class="tlv_ident_hdl_code">RING_STOPS_WIDTH-1</span><span class="tlv_ident_pipe_sig">:</span><span class="tlv_ident_hdl_code">0</span><span class="tlv_ident_pipe_sig">] </span><span class="tlv_ident_hdl_code">= (</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;tb&gt;ring_stop|send&gt;gen_trans$dest_tmp"stage_in_phases="0">$dest_tmp</span> <span class="tlv_ident_hdl_code">+ RING_STOPS) % RING_STOPS;</span></span>
<span class="line" line-num="67" source-line-num="67">                     <span class="tlv_ident_comment">/* verilator lint_on WIDTH */</span></span>
<span class="line" line-num="68" source-line-num="68">                     <span class="tlv_ident_comment">//$dest[RING_STOPS_WIDTH-1:0] = ring_stop;</span></span>
<span class="line" line-num="69" source-line-num="69">                     <span class="tlv_ident_comment">//$packet_valid = ring_stop == 0 ? 1'b1 : 1'b0; // valid for only first ring_stop - unused</span></span>
<span class="line" line-num="70" source-line-num="70">               <span class="tlv_ident_assigned_pipe_sig" logical_entity="&gt;tb&gt;ring_stop|send$trans_valid"stage_in_phases="0">$trans_valid</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="&gt;tb&gt;ring_stop|send$valid_in"stage_in_phases="0">$valid_in</span> <span class="tlv_ident_hdl_code">|| </span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;tb&gt;ring_stop"tlx_ref="">&gt;ring_stop</span><span class="tlv_ident_pipeline" logical_entity="&gt;tb&gt;ring_stop|receive"tlx_ref="">|receive</span><span class="tlv_ident_alignment_expr_1c" logical_entity="&gt;tb&gt;ring_stop|receive@0">%+0</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;tb&gt;ring_stop|receive$request"stage_in_phases="0">$request</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="71" source-line-num="71">               <span class="tlv_ident_when">?$trans_valid</span></span>
<span class="line" line-num="72" source-line-num="72">                  <span class="tlv_ident_beh_hier_1" logical_entity="&gt;tb&gt;ring_stop|send&gt;trans_out">&gt;trans_out</span></span>
<span class="line" line-num="73" source-line-num="73">                     <span class="tlv_ident_assigned_sig_keyword" logical_entity="&gt;tb&gt;ring_stop|send&gt;trans_out$ANY"stage_in_phases="0">$ANY</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;tb&gt;ring_stop"tlx_ref="">&gt;ring_stop</span><span class="tlv_ident_pipeline" logical_entity="&gt;tb&gt;ring_stop|receive"tlx_ref="">|receive</span><span class="tlv_ident_alignment_expr_1c" logical_entity="&gt;tb&gt;ring_stop|receive@0">%+0</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;tb&gt;ring_stop|receive$request"stage_in_phases="0">$request</span> <span class="tlv_ident_hdl_code">? </span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;tb&gt;ring_stop"tlx_ref="">&gt;ring_stop</span><span class="tlv_ident_pipeline" logical_entity="&gt;tb&gt;ring_stop|receive"tlx_ref="">|receive</span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;tb&gt;ring_stop|receive&gt;trans"tlx_ref="">&gt;trans</span><span class="tlv_ident_alignment_expr_1c" logical_entity="&gt;tb&gt;ring_stop|receive@0">%+0</span><span class="tlv_ident_sig_keyword" logical_entity="&gt;tb&gt;ring_stop|receive&gt;trans$ANY"stage_in_phases="0">$ANY</span> <span class="tlv_ident_hdl_code">:</span></span>
<span class="line" line-num="74" source-line-num="74">                                                           <span class="tlv_ident_pipeline" logical_entity="&gt;tb&gt;ring_stop|send"tlx_ref="">|send</span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;tb&gt;ring_stop|send&gt;gen_trans"tlx_ref="">&gt;gen_trans</span><span class="tlv_ident_alignment_expr_1c" logical_entity="&gt;tb&gt;ring_stop|send@0">%+0</span><span class="tlv_ident_sig_keyword" logical_entity="&gt;tb&gt;ring_stop|send&gt;gen_trans$ANY"stage_in_phases="0">$ANY</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="75" source-line-num="75">                     </span>
<span class="line" line-num="76" source-line-num="76">                     <span class="tlv_ident_keyword1">\SV_plus</span></span>
<span class="line" line-num="77" source-line-num="77">                        <span class="tlv_ident_hdl_code">always_ff @(posedge clk) begin</span></span>
<span class="line" line-num="78" source-line-num="78">                           <span class="tlv_ident_sv_sig">\</span><span class="tlv_ident_hdl_code">$display(&quot;</span><span class="tlv_ident_sv_sig">\</span><span class="tlv_ident_hdl_code">|send[%0d]&quot;, ring_stop);</span></span>
<span class="line" line-num="79" source-line-num="79">                           <span class="tlv_ident_sv_sig">\</span><span class="tlv_ident_hdl_code">$display(&quot;Sender: %0d, Destination: %0d&quot;, </span><span class="tlv_ident_pipe_sig" logical_entity="&gt;tb&gt;ring_stop|send&gt;trans_out$sender"stage_in_phases="0">$sender</span><span class="tlv_ident_hdl_code">, </span><span class="tlv_ident_pipe_sig" logical_entity="&gt;tb&gt;ring_stop|send&gt;trans_out$dest"stage_in_phases="0">$dest</span><span class="tlv_ident_hdl_code">);</span></span>
<span class="line" line-num="80" source-line-num="80">                        <span class="tlv_ident_hdl_code">end</span></span>
<span class="line" line-num="81" source-line-num="81">                     </span>
<span class="line" line-num="82" source-line-num="82">         <span class="tlv_ident_pipeline" logical_entity="&gt;tb&gt;ring_stop|receive">|receive</span></span>
<span class="line" line-num="83" source-line-num="83">            <span class="tlv_ident_stage_expr" logical_entity="&gt;tb&gt;ring_stop|receive@0">@0</span></span>
<span class="line" line-num="84" source-line-num="84">               <span class="tlv_ident_assigned_pipe_sig" logical_entity="&gt;tb&gt;ring_stop|receive$reset"stage_in_phases="0">$reset</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_1" logical_entity=""tlx_ref="">&gt;top</span><span class="tlv_ident_pipeline" logical_entity="|default"tlx_ref="">|default</span><span class="tlv_ident_alignment_expr_1c" logical_entity="|default@2">%+1</span><span class="tlv_ident_pipe_sig" logical_entity="|default$reset"stage_in_phases="2">$reset</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="85" source-line-num="85">               <span class="tlv_ident_assigned_pipe_sig" logical_entity="&gt;tb&gt;ring_stop|receive$trans_valid"stage_in_phases="0">$trans_valid</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_1" logical_entity=""tlx_ref="">&gt;top</span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop"tlx_ref="">&gt;ring_stop</span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;pipe2"tlx_ref="">&gt;pipe2</span><span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop&gt;pipe2|fifo2_out"tlx_ref="">|fifo2_out</span><span class="tlv_ident_alignment_expr_1c" logical_entity="&gt;ring_stop&gt;pipe2|fifo2_out@2">%+1</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;pipe2|fifo2_out$trans_valid"stage_in_phases="2">$trans_valid</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="86" source-line-num="86">               <span class="tlv_ident_assigned_pipe_sig" logical_entity="&gt;tb&gt;ring_stop|receive$request"stage_in_phases="0">$request</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="&gt;tb&gt;ring_stop|receive$trans_valid"stage_in_phases="0">$trans_valid</span> <span class="tlv_ident_hdl_code">&amp;&amp; </span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;tb&gt;ring_stop|receive&gt;trans"tlx_ref="">&gt;trans</span><span class="tlv_ident_alignment_expr_1c" logical_entity="&gt;tb&gt;ring_stop|receive@0">%+0</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;tb&gt;ring_stop|receive&gt;trans$sender"stage_in_phases="0">$sender</span> <span class="tlv_ident_hdl_code">!= ring_stop;</span></span>
<span class="line" line-num="87" source-line-num="87">               <span class="tlv_ident_assigned_pipe_sig" logical_entity="&gt;tb&gt;ring_stop|receive$received"stage_in_phases="0">$received</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="&gt;tb&gt;ring_stop|receive$trans_valid"stage_in_phases="0">$trans_valid</span> <span class="tlv_ident_hdl_code">&amp;&amp; </span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;tb&gt;ring_stop|receive&gt;trans"tlx_ref="">&gt;trans</span><span class="tlv_ident_alignment_expr_1c" logical_entity="&gt;tb&gt;ring_stop|receive@0">%+0</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;tb&gt;ring_stop|receive&gt;trans$sender"stage_in_phases="0">$sender</span> <span class="tlv_ident_hdl_code">== ring_stop;</span></span>
<span class="line" line-num="88" source-line-num="88">               <span class="tlv_ident_alignment_keyword_1c" logical_entity="&gt;tb&gt;ring_stop|receive@-2">%next</span><span class="tlv_ident_assigned_state_sig" logical_entity="&gt;tb&gt;ring_stop|receive$NumPackets"stage_in_phases="-2">$NumPackets</span><span class="tlv_ident_state_sig">[</span><span class="tlv_ident_hdl_code">PACKET_SIZE-1</span><span class="tlv_ident_state_sig">:</span><span class="tlv_ident_hdl_code">0</span><span class="tlv_ident_state_sig">] </span><span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="&gt;tb&gt;ring_stop|receive$reset"stage_in_phases="0">$reset</span>                      <span class="tlv_ident_hdl_code">? '0 :</span></span>
<span class="line" line-num="89" source-line-num="89">                                                   <span class="tlv_ident_beh_hier_1" logical_entity="&gt;tb&gt;ring_stop"tlx_ref="">&gt;ring_stop</span><span class="tlv_ident_pipeline" logical_entity="&gt;tb&gt;ring_stop|send"tlx_ref="">|send</span><span class="tlv_ident_alignment_expr_1c" logical_entity="&gt;tb&gt;ring_stop|send@0">%+0</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;tb&gt;ring_stop|send$valid_in"stage_in_phases="0">$valid_in</span> <span class="tlv_ident_hdl_code">? </span><span class="tlv_ident_state_sig" logical_entity="&gt;tb&gt;ring_stop|receive$NumPackets"stage_in_phases="0">$NumPackets</span> <span class="tlv_ident_hdl_code">+ 1 :</span></span>
<span class="line" line-num="90" source-line-num="90">                                                   <span class="tlv_ident_pipe_sig" logical_entity="&gt;tb&gt;ring_stop|receive$request"stage_in_phases="0">$request</span>                    <span class="tlv_ident_hdl_code">? </span><span class="tlv_ident_state_sig" logical_entity="&gt;tb&gt;ring_stop|receive$NumPackets"stage_in_phases="0">$NumPackets</span> <span class="tlv_ident_hdl_code">:</span></span>
<span class="line" line-num="91" source-line-num="91">                                                   <span class="tlv_ident_pipe_sig" logical_entity="&gt;tb&gt;ring_stop|receive$received"stage_in_phases="0">$received</span>                   <span class="tlv_ident_hdl_code">? </span><span class="tlv_ident_state_sig" logical_entity="&gt;tb&gt;ring_stop|receive$NumPackets"stage_in_phases="0">$NumPackets</span> <span class="tlv_ident_hdl_code">- 1 :</span></span>
<span class="line" line-num="92" source-line-num="92">                                                                                 <span class="tlv_ident_state_sig" logical_entity="&gt;tb&gt;ring_stop|receive$NumPackets"stage_in_phases="0">$NumPackets</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="93" source-line-num="93">               <span class="tlv_ident_when">?$trans_valid</span></span>
<span class="line" line-num="94" source-line-num="94">                  <span class="tlv_ident_beh_hier_1" logical_entity="&gt;tb&gt;ring_stop|receive&gt;trans">&gt;trans</span></span>
<span class="line" line-num="95" source-line-num="95">                     <span class="tlv_ident_assigned_sig_keyword" logical_entity="&gt;tb&gt;ring_stop|receive&gt;trans$ANY"stage_in_phases="0">$ANY</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_1" logical_entity=""tlx_ref="">&gt;top</span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop"tlx_ref="">&gt;ring_stop</span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;pipe2"tlx_ref="">&gt;pipe2</span><span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop&gt;pipe2|fifo2_out"tlx_ref="">|fifo2_out</span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;pipe2|fifo2_out&gt;trans"tlx_ref="">&gt;trans</span><span class="tlv_ident_alignment_expr_1c" logical_entity="&gt;ring_stop&gt;pipe2|fifo2_out@2">%+1</span><span class="tlv_ident_sig_keyword" logical_entity="&gt;ring_stop&gt;pipe2|fifo2_out&gt;trans$ANY"stage_in_phases="2">$ANY</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="96" source-line-num="96">                     <span class="tlv_ident_assigned_pipe_sig" logical_entity="&gt;tb&gt;ring_stop|receive&gt;trans$dest"stage_in_phases="0">$dest</span><span class="tlv_ident_pipe_sig">[</span><span class="tlv_ident_hdl_code">RING_STOPS_WIDTH-1</span><span class="tlv_ident_pipe_sig">:</span><span class="tlv_ident_hdl_code">0</span><span class="tlv_ident_pipe_sig">] </span><span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipeline" logical_entity="&gt;tb&gt;ring_stop|receive"tlx_ref="">|receive</span><span class="tlv_ident_alignment_expr_1c" logical_entity="&gt;tb&gt;ring_stop|receive@0">%+0</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;tb&gt;ring_stop|receive$request"stage_in_phases="0">$request</span> <span class="tlv_ident_hdl_code">? </span><span class="tlv_ident_pipe_sig" logical_entity="&gt;tb&gt;ring_stop|receive&gt;trans$sender"stage_in_phases="0">$sender</span> <span class="tlv_ident_hdl_code">: </span><span class="tlv_ident_pipe_sig" logical_entity="&gt;tb&gt;ring_stop|receive&gt;trans$dest"stage_in_phases="0">$dest</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="97" source-line-num="97">      <span class="tlv_ident_pipeline" logical_entity="&gt;tb|pass">|pass</span></span>
<span class="line" line-num="98" source-line-num="98">         <span class="tlv_ident_stage_expr" logical_entity="&gt;tb|pass@0">@0</span></span>
<span class="line" line-num="99" source-line-num="99">            <span class="tlv_ident_assigned_pipe_sig" logical_entity="&gt;tb|pass$reset"stage_in_phases="0">$reset</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_1" logical_entity=""tlx_ref="">&gt;top</span><span class="tlv_ident_pipeline" logical_entity="|default"tlx_ref="">|default</span><span class="tlv_ident_alignment_expr_1c" logical_entity="|default@2">%+1</span><span class="tlv_ident_pipe_sig" logical_entity="|default$reset"stage_in_phases="2">$reset</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="100" source-line-num="100">            <span class="tlv_ident_assigned_pipe_sig" logical_entity="&gt;tb|pass$packets"stage_in_phases="0">$packets</span><span class="tlv_ident_pipe_sig">[</span><span class="tlv_ident_hdl_code">RING_STOPS*PACKET_SIZE-1</span><span class="tlv_ident_pipe_sig">:</span><span class="tlv_ident_hdl_code">0</span><span class="tlv_ident_pipe_sig">] </span><span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;tb"tlx_ref="">&gt;tb</span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;tb&gt;ring_stop"tlx_ref="">&gt;ring_stop</span><span class="tlv_ident_beh_hier_1">[</span><span class="tlv_ident_hdl_code">*</span><span class="tlv_ident_beh_hier_1">]</span><span class="tlv_ident_pipeline" logical_entity="&gt;tb&gt;ring_stop|receive"tlx_ref="">|receive</span><span class="tlv_ident_alignment_expr_1c" logical_entity="&gt;tb&gt;ring_stop|receive@0">%+0</span><span class="tlv_ident_state_sig" logical_entity="&gt;tb&gt;ring_stop|receive$NumPackets"stage_in_phases="0">$NumPackets</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="101" source-line-num="101">            <span class="tlv_ident_sv_sig">*</span><span class="tlv_ident_hdl_code">passed = !</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;tb|pass$reset"stage_in_phases="0">$reset</span> <span class="tlv_ident_hdl_code">&amp;&amp; (</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;tb|pass$packets"stage_in_phases="0">$packets</span> <span class="tlv_ident_hdl_code">== '0) &amp;&amp; (</span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;tb"tlx_ref="">&gt;tb</span><span class="tlv_ident_pipeline" logical_entity="&gt;tb|count"tlx_ref="">|count</span><span class="tlv_ident_alignment_expr_1c" logical_entity="&gt;tb|count@0">%+0</span><span class="tlv_ident_state_sig" logical_entity="&gt;tb|count$CycCount"stage_in_phases="0">$CycCount</span> <span class="tlv_ident_hdl_code">&gt; 3);</span></span>
<span class="line" line-num="102" source-line-num="102">   </span>
<span class="line" line-num="103" source-line-num="103">   <span class="tlv_ident_comment">// Reset as a pipesignal.</span></span>
<span class="line" line-num="104" source-line-num="104">   <span class="tlv_ident_pipeline" logical_entity="|default">|default</span></span>
<span class="line" line-num="105" source-line-num="105">      <span class="tlv_ident_stage_expr" logical_entity="|default@0">@0</span></span>
<span class="line" line-num="106" source-line-num="106">         <span class="tlv_ident_assigned_pipe_sig" logical_entity="|default$reset"stage_in_phases="0">$reset</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_sv_sig">*</span><span class="tlv_ident_hdl_code">reset;</span></span>
<span class="line" line-num="107" source-line-num="107"></span>
<span class="line" line-num="108" source-line-num="108">   <span class="tlv_ident_comment">// Ring</span></span>
<span class="line" line-num="109" source-line-num="109">   <span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop">&gt;ring_stop</span><span class="tlv_ident_beh_hier_1">[</span><span class="tlv_ident_hdl_code">RING_STOPS-1</span><span class="tlv_ident_beh_hier_1">:</span><span class="tlv_ident_hdl_code">0</span><span class="tlv_ident_beh_hier_1">]</span></span>
<span class="line" line-num="110" source-line-num="110">      <span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop|ring_in">|ring_in</span></span>
<span class="line" line-num="111" source-line-num="111">         <span class="tlv_ident_stage_expr" logical_entity="&gt;ring_stop|ring_in@0">@0</span></span>
<span class="line" line-num="112" source-line-num="112">            <span class="tlv_ident_assigned_pipe_sig" logical_entity="&gt;ring_stop|ring_in$reset"stage_in_phases="0">$reset</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_1" logical_entity=""tlx_ref="">&gt;top</span><span class="tlv_ident_pipeline" logical_entity="|default"tlx_ref="">|default</span><span class="tlv_ident_alignment_expr_1c" logical_entity="|default@2">%+1</span><span class="tlv_ident_pipe_sig" logical_entity="|default$reset"stage_in_phases="2">$reset</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="113" source-line-num="113">            <span class="tlv_ident_comment">// transaction available if not reset and FIFO has valid transaction</span></span>
<span class="line" line-num="114" source-line-num="114">            <span class="tlv_ident_comment">// and packet's destination is not the same as ring_stop</span></span>
<span class="line" line-num="115" source-line-num="115">            <span class="tlv_ident_assigned_pipe_sig" logical_entity="&gt;ring_stop|ring_in$trans_avail"stage_in_phases="0">$trans_avail</span> <span class="tlv_ident_hdl_code">= ! </span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop|ring_in$reset"stage_in_phases="0">$reset</span> <span class="tlv_ident_hdl_code">&amp;&amp; </span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop"tlx_ref="">&gt;ring_stop</span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;stall_pipe"tlx_ref="">&gt;stall_pipe</span><span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop&gt;stall_pipe|fifo_out"tlx_ref="">|fifo_out</span><span class="tlv_ident_alignment_expr_1c" logical_entity="&gt;ring_stop&gt;stall_pipe|fifo_out@2">%+1</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|fifo_out$trans_valid"stage_in_phases="2">$trans_valid</span> <span class="tlv_ident_hdl_code">&amp;&amp;</span></span>
<span class="line" line-num="116" source-line-num="116">                           <span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop"tlx_ref="">&gt;ring_stop</span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;stall_pipe"tlx_ref="">&gt;stall_pipe</span><span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop&gt;stall_pipe|fifo_out"tlx_ref="">|fifo_out</span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;stall_pipe|fifo_out&gt;trans"tlx_ref="">&gt;trans</span><span class="tlv_ident_alignment_expr_1c" logical_entity="&gt;ring_stop&gt;stall_pipe|fifo_out@2">%+1</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|fifo_out&gt;trans$dest"stage_in_phases="2">$dest</span> <span class="tlv_ident_hdl_code">!= ring_stop;</span></span>
<span class="line" line-num="117" source-line-num="117">            <span class="tlv_ident_assigned_pipe_sig" logical_entity="&gt;ring_stop|ring_in$trans_valid"stage_in_phases="0">$trans_valid</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop|ring_in$trans_avail"stage_in_phases="0">$trans_avail</span> <span class="tlv_ident_hdl_code">&amp;&amp; ! </span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop|ring_in$blocked"stage_in_phases="0">$blocked</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="118" source-line-num="118">            <span class="tlv_ident_when">?$trans_valid</span></span>
<span class="line" line-num="119" source-line-num="119">               <span class="tlv_ident_assigned_sig_keyword" logical_entity="&gt;ring_stop|ring_in$ANY"stage_in_phases="0">$ANY</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop"tlx_ref="">&gt;ring_stop</span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;stall_pipe"tlx_ref="">&gt;stall_pipe</span><span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop&gt;stall_pipe|fifo_out"tlx_ref="">|fifo_out</span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;stall_pipe|fifo_out&gt;trans"tlx_ref="">&gt;trans</span><span class="tlv_ident_alignment_expr_1c" logical_entity="&gt;ring_stop&gt;stall_pipe|fifo_out@2">%+1</span><span class="tlv_ident_sig_keyword" logical_entity="&gt;ring_stop&gt;stall_pipe|fifo_out&gt;trans$ANY"stage_in_phases="2">$ANY</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="120" source-line-num="120">   <span class="tlv_ident_comment">//            (  hop,    in_pipe, in_stage, out_pipe, out_stage, reset_scope,  reset_stage, reset_sig)</span></span>
<span class="line" line-num="121" source-line-num="121">   <span class="tlv_ident_keyword1">\source ./m4/1c/pipeflow_tlv.m4 995   </span><span class="tlv_ident_comment">// Instantiated from stdin, 121 as: m4+simple_ring(ring_stop, ring_in,    0,     ring_out,     0,     &gt;top|default,      1,       $reset  )</span></span>
<span class="line" line-num="122" source-line-num="121">   </span>
<span class="line" line-num="123" source-line-num="121">      <span class="tlv_ident_comment">// Logic</span></span>
<span class="line" line-num="124" source-line-num="121">      <span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop">&gt;ring_stop</span><span class="tlv_ident_beh_hier_1">[</span><span class="tlv_ident_hdl_code">*</span><span class="tlv_ident_beh_hier_1">]</span></span>
<span class="line" line-num="125" source-line-num="121">         <span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop|default">|default</span></span>
<span class="line" line-num="126" source-line-num="121">            <span class="tlv_ident_stage_expr" logical_entity="&gt;ring_stop|default@0">@0</span></span>
<span class="line" line-num="127" source-line-num="121">               <span class="tlv_ident_keyword1">\SV_plus</span></span>
<span class="line" line-num="128" source-line-num="121">                  <span class="tlv_ident_hdl_code">int prev_hop = (ring_stop + RING_STOPS - 1) % RING_STOPS;</span></span>
<span class="line" line-num="129" source-line-num="121">         <span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop|ring_in">|ring_in</span></span>
<span class="line" line-num="130" source-line-num="121">            <span class="tlv_ident_stage_expr" logical_entity="&gt;ring_stop|ring_in@0">@0</span></span>
<span class="line" line-num="131" source-line-num="121">               <span class="tlv_ident_assigned_pipe_sig" logical_entity="&gt;ring_stop|ring_in$blocked"stage_in_phases="0">$blocked</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop"tlx_ref="">&gt;ring_stop</span><span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop|rg"tlx_ref="">|rg</span><span class="tlv_ident_alignment_expr_1c" logical_entity="&gt;ring_stop|rg@0">%+0</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop|rg$passed_on"stage_in_phases="0">$passed_on</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="132" source-line-num="121">         <span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop|rg">|rg</span></span>
<span class="line" line-num="133" source-line-num="121">            <span class="tlv_ident_stage_expr" logical_entity="&gt;ring_stop|rg@0">@0</span></span>
<span class="line" line-num="134" source-line-num="121">               <span class="tlv_ident_assigned_pipe_sig" logical_entity="&gt;ring_stop|rg$passed_on"stage_in_phases="0">$passed_on</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop"tlx_ref="">&gt;ring_stop</span><span class="tlv_ident_beh_hier_1">[</span><span class="tlv_ident_hdl_code">prev_hop</span><span class="tlv_ident_beh_hier_1">]</span><span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop|rg"tlx_ref="">|rg</span><span class="tlv_ident_alignment_expr_1c" logical_entity="&gt;ring_stop|rg@2">%+1</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop|rg$pass_on"stage_in_phases="2">$pass_on</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="135" source-line-num="121">               <span class="tlv_ident_assigned_pipe_sig" logical_entity="&gt;ring_stop|rg$valid"stage_in_phases="0">$valid</span> <span class="tlv_ident_hdl_code">= ! </span><span class="tlv_ident_beh_hier_1" logical_entity=""tlx_ref="">&gt;top</span><span class="tlv_ident_pipeline" logical_entity="|default"tlx_ref="">|default</span><span class="tlv_ident_alignment_expr_1c" logical_entity="|default@2">%+1</span><span class="tlv_ident_pipe_sig" logical_entity="|default$reset"stage_in_phases="2">$reset</span>   <span class="tlv_ident_hdl_code">&amp;&amp;</span></span>
<span class="line" line-num="136" source-line-num="121">                        <span class="tlv_ident_hdl_code">(</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop|rg$passed_on"stage_in_phases="0">$passed_on</span> <span class="tlv_ident_hdl_code">|| </span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop"tlx_ref="">&gt;ring_stop</span><span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop|ring_in"tlx_ref="">|ring_in</span><span class="tlv_ident_alignment_expr_1c" logical_entity="&gt;ring_stop|ring_in@0">%+0</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop|ring_in$trans_avail"stage_in_phases="0">$trans_avail</span><span class="tlv_ident_hdl_code">);</span></span>
<span class="line" line-num="137" source-line-num="121">               <span class="tlv_ident_assigned_pipe_sig" logical_entity="&gt;ring_stop|rg$pass_on"stage_in_phases="0">$pass_on</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop|rg$valid"stage_in_phases="0">$valid</span> <span class="tlv_ident_hdl_code">&amp;&amp; ! </span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop"tlx_ref="">&gt;ring_stop</span><span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop|ring_out"tlx_ref="">|ring_out</span><span class="tlv_ident_alignment_expr_1c" logical_entity="&gt;ring_stop|ring_out@0">%+0</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop|ring_out$trans_valid"stage_in_phases="0">$trans_valid</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="138" source-line-num="121">               <span class="tlv_ident_assigned_pipe_sig" logical_entity="&gt;ring_stop|rg$dest"stage_in_phases="0">$dest</span><span class="tlv_ident_pipe_sig">[</span><span class="tlv_ident_hdl_code">RING_STOPS_WIDTH-1</span><span class="tlv_ident_pipe_sig">:</span><span class="tlv_ident_hdl_code">0</span><span class="tlv_ident_pipe_sig">] </span><span class="tlv_ident_hdl_code">=</span></span>
<span class="line" line-num="139" source-line-num="121">                  <span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop|rg$passed_on"stage_in_phases="0">$passed_on</span></span>
<span class="line" line-num="140" source-line-num="121">                     <span class="tlv_ident_hdl_code">? </span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop"tlx_ref="">&gt;ring_stop</span><span class="tlv_ident_beh_hier_1">[</span><span class="tlv_ident_hdl_code">prev_hop</span><span class="tlv_ident_beh_hier_1">]</span><span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop|rg"tlx_ref="">|rg</span><span class="tlv_ident_alignment_expr_1c" logical_entity="&gt;ring_stop|rg@2">%+1</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop|rg$dest"stage_in_phases="2">$dest</span></span>
<span class="line" line-num="141" source-line-num="121">                     <span class="tlv_ident_hdl_code">: </span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop"tlx_ref="">&gt;ring_stop</span><span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop|ring_in"tlx_ref="">|ring_in</span><span class="tlv_ident_alignment_expr_1c" logical_entity="&gt;ring_stop|ring_in@0">%+0</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop|ring_in$dest"stage_in_phases="0">$dest</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="142" source-line-num="121">            <span class="tlv_ident_stage_expr" logical_entity="&gt;ring_stop|rg@2">@1</span></span>
<span class="line" line-num="143" source-line-num="121">               <span class="tlv_ident_when">?$valid</span></span>
<span class="line" line-num="144" source-line-num="121">                  <span class="tlv_ident_assigned_sig_keyword" logical_entity="&gt;ring_stop|rg$ANY"stage_in_phases="2">$ANY</span> <span class="tlv_ident_hdl_code">=</span></span>
<span class="line" line-num="145" source-line-num="121">                     <span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop|rg$passed_on"stage_in_phases="2">$passed_on</span></span>
<span class="line" line-num="146" source-line-num="121">                        <span class="tlv_ident_hdl_code">? </span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop"tlx_ref="">&gt;ring_stop</span><span class="tlv_ident_beh_hier_1">[</span><span class="tlv_ident_hdl_code">prev_hop</span><span class="tlv_ident_beh_hier_1">]</span><span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop|rg"tlx_ref="">|rg</span><span class="tlv_ident_alignment_expr_1c" logical_entity="&gt;ring_stop|rg@4">%+1</span><span class="tlv_ident_sig_keyword" logical_entity="&gt;ring_stop|rg$ANY"stage_in_phases="4">$ANY</span></span>
<span class="line" line-num="147" source-line-num="121">                        <span class="tlv_ident_hdl_code">: </span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop"tlx_ref="">&gt;ring_stop</span><span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop|ring_in"tlx_ref="">|ring_in</span><span class="tlv_ident_alignment_expr_1c" logical_entity="&gt;ring_stop|ring_in@2">%+0</span><span class="tlv_ident_sig_keyword" logical_entity="&gt;ring_stop|ring_in$ANY"stage_in_phases="2">$ANY</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="148" source-line-num="121">         <span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop|ring_out">|ring_out</span></span>
<span class="line" line-num="149" source-line-num="121">            <span class="tlv_ident_comment">// Ring out</span></span>
<span class="line" line-num="150" source-line-num="121">            <span class="tlv_ident_stage_expr" logical_entity="&gt;ring_stop|ring_out@0">@0</span></span>
<span class="line" line-num="151" source-line-num="121">               <span class="tlv_ident_assigned_pipe_sig" logical_entity="&gt;ring_stop|ring_out$trans_avail"stage_in_phases="0">$trans_avail</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop"tlx_ref="">&gt;ring_stop</span><span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop|rg"tlx_ref="">|rg</span><span class="tlv_ident_alignment_expr_1c" logical_entity="&gt;ring_stop|rg@0">%+0</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop|rg$valid"stage_in_phases="0">$valid</span> <span class="tlv_ident_hdl_code">&amp;&amp; (</span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop"tlx_ref="">&gt;ring_stop</span><span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop|rg"tlx_ref="">|rg</span><span class="tlv_ident_alignment_expr_1c" logical_entity="&gt;ring_stop|rg@0">%+0</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop|rg$dest"stage_in_phases="0">$dest</span> <span class="tlv_ident_hdl_code">== ring_stop);</span></span>
<span class="line" line-num="152" source-line-num="121">               <span class="tlv_ident_assigned_pipe_sig" logical_entity="&gt;ring_stop|ring_out$blocked"stage_in_phases="0">$blocked</span> <span class="tlv_ident_hdl_code">= 1'b0;</span></span>
<span class="line" line-num="153" source-line-num="121">               <span class="tlv_ident_assigned_pipe_sig" logical_entity="&gt;ring_stop|ring_out$trans_valid"stage_in_phases="0">$trans_valid</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop|ring_out$trans_avail"stage_in_phases="0">$trans_avail</span> <span class="tlv_ident_hdl_code">&amp;&amp; ! </span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop|ring_out$blocked"stage_in_phases="0">$blocked</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="154" source-line-num="121">            <span class="tlv_ident_when">?$trans_valid</span></span>
<span class="line" line-num="155" source-line-num="121">               <span class="tlv_ident_stage_expr" logical_entity="&gt;ring_stop|ring_out@2">@1</span></span>
<span class="line" line-num="156" source-line-num="121">                  <span class="tlv_ident_assigned_sig_keyword" logical_entity="&gt;ring_stop|ring_out$ANY"stage_in_phases="2">$ANY</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop"tlx_ref="">&gt;ring_stop</span><span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop|rg"tlx_ref="">|rg</span><span class="tlv_ident_alignment_expr_1c" logical_entity="&gt;ring_stop|rg@2">%+0</span><span class="tlv_ident_sig_keyword" logical_entity="&gt;ring_stop|rg$ANY"stage_in_phases="2">$ANY</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="157" source-line-num="121">   <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="158" source-line-num="122">   </span>
<span class="line" line-num="159" source-line-num="123">   <span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop">&gt;ring_stop</span><span class="tlv_ident_beh_hier_1">[</span><span class="tlv_ident_hdl_code">*</span><span class="tlv_ident_beh_hier_1">]</span></span>
<span class="line" line-num="160" source-line-num="124">      <span class="tlv_ident_comment">// Stall Pipeline</span></span>
<span class="line" line-num="161" source-line-num="125">      <span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;stall_pipe">&gt;stall_pipe</span></span>
<span class="line" line-num="162" source-line-num="126">         <span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop&gt;stall_pipe|stall0">|stall0</span></span>
<span class="line" line-num="163" source-line-num="127">            <span class="tlv_ident_stage_expr" logical_entity="&gt;ring_stop&gt;stall_pipe|stall0@0">@0</span></span>
<span class="line" line-num="164" source-line-num="128">               <span class="tlv_ident_assigned_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall0$reset"stage_in_phases="0">$reset</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_1" logical_entity=""tlx_ref="">&gt;top</span><span class="tlv_ident_pipeline" logical_entity="|default"tlx_ref="">|default</span><span class="tlv_ident_alignment_expr_1c" logical_entity="|default@2">%+1</span><span class="tlv_ident_pipe_sig" logical_entity="|default$reset"stage_in_phases="2">$reset</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="165" source-line-num="129">               <span class="tlv_ident_assigned_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall0$trans_avail"stage_in_phases="0">$trans_avail</span> <span class="tlv_ident_hdl_code">= ! </span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall0$reset"stage_in_phases="0">$reset</span> <span class="tlv_ident_hdl_code">&amp;&amp; </span><span class="tlv_ident_beh_hier_1" logical_entity=""tlx_ref="">&gt;top</span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;tb"tlx_ref="">&gt;tb</span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;tb&gt;ring_stop"tlx_ref="">&gt;ring_stop</span><span class="tlv_ident_pipeline" logical_entity="&gt;tb&gt;ring_stop|send"tlx_ref="">|send</span><span class="tlv_ident_alignment_expr_1c" logical_entity="&gt;tb&gt;ring_stop|send@2">%+1</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;tb&gt;ring_stop|send$trans_valid"stage_in_phases="2">$trans_valid</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="166" source-line-num="130">               <span class="tlv_ident_assigned_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall0$trans_valid"stage_in_phases="0">$trans_valid</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall0$trans_avail"stage_in_phases="0">$trans_avail</span> <span class="tlv_ident_hdl_code">&amp;&amp; ! </span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall0$blocked"stage_in_phases="0">$blocked</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="167" source-line-num="131">               <span class="tlv_ident_when">?$trans_valid</span></span>
<span class="line" line-num="168" source-line-num="132">                  <span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;stall_pipe|stall0&gt;trans">&gt;trans</span></span>
<span class="line" line-num="169" source-line-num="133">                     <span class="tlv_ident_assigned_sig_keyword" logical_entity="&gt;ring_stop&gt;stall_pipe|stall0&gt;trans$ANY"stage_in_phases="0">$ANY</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_1" logical_entity=""tlx_ref="">&gt;top</span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;tb"tlx_ref="">&gt;tb</span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;tb&gt;ring_stop"tlx_ref="">&gt;ring_stop</span><span class="tlv_ident_pipeline" logical_entity="&gt;tb&gt;ring_stop|send"tlx_ref="">|send</span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;tb&gt;ring_stop|send&gt;trans_out"tlx_ref="">&gt;trans_out</span><span class="tlv_ident_alignment_expr_1c" logical_entity="&gt;tb&gt;ring_stop|send@2">%+1</span><span class="tlv_ident_sig_keyword" logical_entity="&gt;tb&gt;ring_stop|send&gt;trans_out$ANY"stage_in_phases="2">$ANY</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="170" source-line-num="134">         <span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3">|stall3</span></span>
<span class="line" line-num="171" source-line-num="135">            <span class="tlv_ident_stage_expr" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3@0">@0</span></span>
<span class="line" line-num="172" source-line-num="136">               <span class="tlv_ident_assigned_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3$reset"stage_in_phases="0">$reset</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_1" logical_entity=""tlx_ref="">&gt;top</span><span class="tlv_ident_pipeline" logical_entity="|default"tlx_ref="">|default</span><span class="tlv_ident_alignment_expr_1c" logical_entity="|default@2">%+1</span><span class="tlv_ident_pipe_sig" logical_entity="|default$reset"stage_in_phases="2">$reset</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="173" source-line-num="137">      </span>
<span class="line" line-num="174" source-line-num="138">      <span class="tlv_ident_comment">// The input transaction.</span></span>
<span class="line" line-num="175" source-line-num="139">      <span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;stall_pipe">&gt;stall_pipe</span></span>
<span class="line" line-num="176" source-line-num="140">         <span class="tlv_ident_comment">//               (   top,     name,  first_cycle, last_cycle)</span></span>
<span class="line" line-num="177" source-line-num="141">         <span class="tlv_ident_keyword1">\source ./m4/1c/pipeflow_tlv.m4 328   </span><span class="tlv_ident_comment">// Instantiated from stdin, 141 as: m4+stall_pipeline(stall_pipe, stall,      0,          3     )         </span></span>
<span class="line" line-num="178" source-line-num="141">            <span class="tlv_ident_keyword1">\source ./m4/1c/pipeflow_tlv.m4 270   </span><span class="tlv_ident_comment">// Instantiated from ./m4/1c/pipeflow_tlv.m4, 330 as: m4_stall_stage(...)</span></span>
<span class="line" line-num="179" source-line-num="141">               <span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop&gt;stall_pipe|stall0">|stall0</span></span>
<span class="line" line-num="180" source-line-num="141">                  <span class="tlv_ident_stage_expr" logical_entity="&gt;ring_stop&gt;stall_pipe|stall0@0">@0</span></span>
<span class="line" line-num="181" source-line-num="141">                     <span class="tlv_ident_assigned_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall0$blocked"stage_in_phases="0">$blocked</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;stall_pipe"tlx_ref="">&gt;stall_pipe</span><span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop&gt;stall_pipe|stall1"tlx_ref="">|stall1</span><span class="tlv_ident_alignment_expr_1c" logical_entity="&gt;ring_stop&gt;stall_pipe|stall1@0">%+0</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall1$blocked"stage_in_phases="0">$blocked</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="182" source-line-num="141">               <span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop&gt;stall_pipe|stall1">|stall1</span></span>
<span class="line" line-num="183" source-line-num="141">                  <span class="tlv_ident_stage_expr" logical_entity="&gt;ring_stop&gt;stall_pipe|stall1@0">@0</span></span>
<span class="line" line-num="184" source-line-num="141">                     <span class="tlv_ident_assigned_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall1$trans_avail"stage_in_phases="0">$trans_avail</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall1$blocked"stage_in_phases="0">$blocked</span> <span class="tlv_ident_hdl_code">? </span><span class="tlv_ident_alignment_keyword_1c" logical_entity="&gt;ring_stop&gt;stall_pipe|stall1@2">%prev</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall1$trans_avail"stage_in_phases="2">$trans_avail</span> <span class="tlv_ident_hdl_code">: </span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;stall_pipe"tlx_ref="">&gt;stall_pipe</span><span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop&gt;stall_pipe|stall0"tlx_ref="">|stall0</span><span class="tlv_ident_alignment_expr_1c" logical_entity="&gt;ring_stop&gt;stall_pipe|stall0@2">%+1</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall0$trans_avail"stage_in_phases="2">$trans_avail</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="185" source-line-num="141">                     <span class="tlv_ident_assigned_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall1$trans_valid"stage_in_phases="0">$trans_valid</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall1$trans_avail"stage_in_phases="0">$trans_avail</span> <span class="tlv_ident_hdl_code">&amp;&amp; !</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall1$blocked"stage_in_phases="0">$blocked</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="186" source-line-num="141">                     <span class="tlv_ident_when">?$trans_valid</span></span>
<span class="line" line-num="187" source-line-num="141">                        <span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;stall_pipe|stall1&gt;trans_hold">&gt;trans_hold</span></span>
<span class="line" line-num="188" source-line-num="141">                           <span class="tlv_ident_assigned_sig_keyword" logical_entity="&gt;ring_stop&gt;stall_pipe|stall1&gt;trans_hold$ANY"stage_in_phases="0">$ANY</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop&gt;stall_pipe|stall1"tlx_ref="">|stall1</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall1$blocked"stage_in_phases="0">$blocked</span> <span class="tlv_ident_hdl_code">? </span><span class="tlv_ident_alignment_keyword_1c" logical_entity="&gt;ring_stop&gt;stall_pipe|stall1@2">%prev</span><span class="tlv_ident_sig_keyword" logical_entity="&gt;ring_stop&gt;stall_pipe|stall1&gt;trans_hold$ANY"stage_in_phases="2">$ANY</span> <span class="tlv_ident_hdl_code">: </span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;stall_pipe"tlx_ref="">&gt;stall_pipe</span><span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop&gt;stall_pipe|stall0"tlx_ref="">|stall0</span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;stall_pipe|stall0&gt;trans"tlx_ref="">&gt;trans</span><span class="tlv_ident_alignment_expr_1c" logical_entity="&gt;ring_stop&gt;stall_pipe|stall0@2">%+1</span><span class="tlv_ident_sig_keyword" logical_entity="&gt;ring_stop&gt;stall_pipe|stall0&gt;trans$ANY"stage_in_phases="2">$ANY</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="189" source-line-num="141">                     <span class="tlv_ident_when">?$trans_avail</span></span>
<span class="line" line-num="190" source-line-num="141">                        <span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;stall_pipe|stall1&gt;trans">&gt;trans</span></span>
<span class="line" line-num="191" source-line-num="141">                           <span class="tlv_ident_assigned_sig_keyword" logical_entity="&gt;ring_stop&gt;stall_pipe|stall1&gt;trans$ANY"stage_in_phases="0">$ANY</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop&gt;stall_pipe|stall1"tlx_ref="">|stall1</span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;stall_pipe|stall1&gt;trans_hold"tlx_ref="">&gt;trans_hold</span><span class="tlv_ident_sig_keyword" logical_entity="&gt;ring_stop&gt;stall_pipe|stall1&gt;trans_hold$ANY"stage_in_phases="0">$ANY</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="192" source-line-num="141">            <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="193" source-line-num="141">            <span class="tlv_ident_keyword1">\source ./m4/1c/pipeflow_tlv.m4 270   </span><span class="tlv_ident_comment">// Instantiated from ./m4/1c/pipeflow_tlv.m4, 330 as: m4_stall_stage(...)</span></span>
<span class="line" line-num="194" source-line-num="141">               <span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop&gt;stall_pipe|stall1">|stall1</span></span>
<span class="line" line-num="195" source-line-num="141">                  <span class="tlv_ident_stage_expr" logical_entity="&gt;ring_stop&gt;stall_pipe|stall1@0">@0</span></span>
<span class="line" line-num="196" source-line-num="141">                     <span class="tlv_ident_assigned_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall1$blocked"stage_in_phases="0">$blocked</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;stall_pipe"tlx_ref="">&gt;stall_pipe</span><span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop&gt;stall_pipe|stall2"tlx_ref="">|stall2</span><span class="tlv_ident_alignment_expr_1c" logical_entity="&gt;ring_stop&gt;stall_pipe|stall2@0">%+0</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall2$blocked"stage_in_phases="0">$blocked</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="197" source-line-num="141">               <span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop&gt;stall_pipe|stall2">|stall2</span></span>
<span class="line" line-num="198" source-line-num="141">                  <span class="tlv_ident_stage_expr" logical_entity="&gt;ring_stop&gt;stall_pipe|stall2@0">@0</span></span>
<span class="line" line-num="199" source-line-num="141">                     <span class="tlv_ident_assigned_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall2$trans_avail"stage_in_phases="0">$trans_avail</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall2$blocked"stage_in_phases="0">$blocked</span> <span class="tlv_ident_hdl_code">? </span><span class="tlv_ident_alignment_keyword_1c" logical_entity="&gt;ring_stop&gt;stall_pipe|stall2@2">%prev</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall2$trans_avail"stage_in_phases="2">$trans_avail</span> <span class="tlv_ident_hdl_code">: </span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;stall_pipe"tlx_ref="">&gt;stall_pipe</span><span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop&gt;stall_pipe|stall1"tlx_ref="">|stall1</span><span class="tlv_ident_alignment_expr_1c" logical_entity="&gt;ring_stop&gt;stall_pipe|stall1@2">%+1</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall1$trans_avail"stage_in_phases="2">$trans_avail</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="200" source-line-num="141">                     <span class="tlv_ident_assigned_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall2$trans_valid"stage_in_phases="0">$trans_valid</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall2$trans_avail"stage_in_phases="0">$trans_avail</span> <span class="tlv_ident_hdl_code">&amp;&amp; !</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall2$blocked"stage_in_phases="0">$blocked</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="201" source-line-num="141">                     <span class="tlv_ident_when">?$trans_valid</span></span>
<span class="line" line-num="202" source-line-num="141">                        <span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;stall_pipe|stall2&gt;trans_hold">&gt;trans_hold</span></span>
<span class="line" line-num="203" source-line-num="141">                           <span class="tlv_ident_assigned_sig_keyword" logical_entity="&gt;ring_stop&gt;stall_pipe|stall2&gt;trans_hold$ANY"stage_in_phases="0">$ANY</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop&gt;stall_pipe|stall2"tlx_ref="">|stall2</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall2$blocked"stage_in_phases="0">$blocked</span> <span class="tlv_ident_hdl_code">? </span><span class="tlv_ident_alignment_keyword_1c" logical_entity="&gt;ring_stop&gt;stall_pipe|stall2@2">%prev</span><span class="tlv_ident_sig_keyword" logical_entity="&gt;ring_stop&gt;stall_pipe|stall2&gt;trans_hold$ANY"stage_in_phases="2">$ANY</span> <span class="tlv_ident_hdl_code">: </span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;stall_pipe"tlx_ref="">&gt;stall_pipe</span><span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop&gt;stall_pipe|stall1"tlx_ref="">|stall1</span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;stall_pipe|stall1&gt;trans"tlx_ref="">&gt;trans</span><span class="tlv_ident_alignment_expr_1c" logical_entity="&gt;ring_stop&gt;stall_pipe|stall1@2">%+1</span><span class="tlv_ident_sig_keyword" logical_entity="&gt;ring_stop&gt;stall_pipe|stall1&gt;trans$ANY"stage_in_phases="2">$ANY</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="204" source-line-num="141">                     <span class="tlv_ident_when">?$trans_avail</span></span>
<span class="line" line-num="205" source-line-num="141">                        <span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;stall_pipe|stall2&gt;trans">&gt;trans</span></span>
<span class="line" line-num="206" source-line-num="141">                           <span class="tlv_ident_assigned_sig_keyword" logical_entity="&gt;ring_stop&gt;stall_pipe|stall2&gt;trans$ANY"stage_in_phases="0">$ANY</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop&gt;stall_pipe|stall2"tlx_ref="">|stall2</span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;stall_pipe|stall2&gt;trans_hold"tlx_ref="">&gt;trans_hold</span><span class="tlv_ident_sig_keyword" logical_entity="&gt;ring_stop&gt;stall_pipe|stall2&gt;trans_hold$ANY"stage_in_phases="0">$ANY</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="207" source-line-num="141">            <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="208" source-line-num="141">            <span class="tlv_ident_keyword1">\source ./m4/1c/pipeflow_tlv.m4 270   </span><span class="tlv_ident_comment">// Instantiated from ./m4/1c/pipeflow_tlv.m4, 330 as: m4_stall_stage(...)</span></span>
<span class="line" line-num="209" source-line-num="141">               <span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop&gt;stall_pipe|stall2">|stall2</span></span>
<span class="line" line-num="210" source-line-num="141">                  <span class="tlv_ident_stage_expr" logical_entity="&gt;ring_stop&gt;stall_pipe|stall2@0">@0</span></span>
<span class="line" line-num="211" source-line-num="141">                     <span class="tlv_ident_assigned_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall2$blocked"stage_in_phases="0">$blocked</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;stall_pipe"tlx_ref="">&gt;stall_pipe</span><span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3"tlx_ref="">|stall3</span><span class="tlv_ident_alignment_expr_1c" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3@0">%+0</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3$blocked"stage_in_phases="0">$blocked</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="212" source-line-num="141">               <span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3">|stall3</span></span>
<span class="line" line-num="213" source-line-num="141">                  <span class="tlv_ident_stage_expr" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3@0">@0</span></span>
<span class="line" line-num="214" source-line-num="141">                     <span class="tlv_ident_assigned_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3$trans_avail"stage_in_phases="0">$trans_avail</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3$blocked"stage_in_phases="0">$blocked</span> <span class="tlv_ident_hdl_code">? </span><span class="tlv_ident_alignment_keyword_1c" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3@2">%prev</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3$trans_avail"stage_in_phases="2">$trans_avail</span> <span class="tlv_ident_hdl_code">: </span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;stall_pipe"tlx_ref="">&gt;stall_pipe</span><span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop&gt;stall_pipe|stall2"tlx_ref="">|stall2</span><span class="tlv_ident_alignment_expr_1c" logical_entity="&gt;ring_stop&gt;stall_pipe|stall2@2">%+1</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall2$trans_avail"stage_in_phases="2">$trans_avail</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="215" source-line-num="141">                     <span class="tlv_ident_assigned_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3$trans_valid"stage_in_phases="0">$trans_valid</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3$trans_avail"stage_in_phases="0">$trans_avail</span> <span class="tlv_ident_hdl_code">&amp;&amp; !</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3$blocked"stage_in_phases="0">$blocked</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="216" source-line-num="141">                     <span class="tlv_ident_when">?$trans_valid</span></span>
<span class="line" line-num="217" source-line-num="141">                        <span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3&gt;trans_hold">&gt;trans_hold</span></span>
<span class="line" line-num="218" source-line-num="141">                           <span class="tlv_ident_assigned_sig_keyword" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3&gt;trans_hold$ANY"stage_in_phases="0">$ANY</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3"tlx_ref="">|stall3</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3$blocked"stage_in_phases="0">$blocked</span> <span class="tlv_ident_hdl_code">? </span><span class="tlv_ident_alignment_keyword_1c" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3@2">%prev</span><span class="tlv_ident_sig_keyword" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3&gt;trans_hold$ANY"stage_in_phases="2">$ANY</span> <span class="tlv_ident_hdl_code">: </span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;stall_pipe"tlx_ref="">&gt;stall_pipe</span><span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop&gt;stall_pipe|stall2"tlx_ref="">|stall2</span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;stall_pipe|stall2&gt;trans"tlx_ref="">&gt;trans</span><span class="tlv_ident_alignment_expr_1c" logical_entity="&gt;ring_stop&gt;stall_pipe|stall2@2">%+1</span><span class="tlv_ident_sig_keyword" logical_entity="&gt;ring_stop&gt;stall_pipe|stall2&gt;trans$ANY"stage_in_phases="2">$ANY</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="219" source-line-num="141">                     <span class="tlv_ident_when">?$trans_avail</span></span>
<span class="line" line-num="220" source-line-num="141">                        <span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3&gt;trans">&gt;trans</span></span>
<span class="line" line-num="221" source-line-num="141">                           <span class="tlv_ident_assigned_sig_keyword" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3&gt;trans$ANY"stage_in_phases="0">$ANY</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3"tlx_ref="">|stall3</span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3&gt;trans_hold"tlx_ref="">&gt;trans_hold</span><span class="tlv_ident_sig_keyword" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3&gt;trans_hold$ANY"stage_in_phases="0">$ANY</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="222" source-line-num="141">            <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="223" source-line-num="141">         <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="224" source-line-num="142">         </span>
<span class="line" line-num="225" source-line-num="143">         <span class="tlv_ident_comment">// FIFO</span></span>
<span class="line" line-num="226" source-line-num="144">         <span class="tlv_ident_comment">//             (   top,     in_pipe, in_stage, out_pipe, out_stage, depth, trans_hier)</span></span>
<span class="line" line-num="227" source-line-num="145">         <span class="tlv_ident_keyword1">\source ./m4/1c/pipeflow_tlv.m4 550   </span><span class="tlv_ident_comment">// Instantiated from stdin, 145 as: m4+flop_fifo_v2(stall_pipe, stall3,     0,     fifo_out,    0,        4,     &gt;trans)</span></span>
<span class="line" line-num="228" source-line-num="145">            <span class="tlv_ident_comment">//|default</span></span>
<span class="line" line-num="229" source-line-num="145">            <span class="tlv_ident_comment">//   @0</span></span>
<span class="line" line-num="230" source-line-num="145">            <span class="tlv_ident_keyword1">\SV_plus</span></span>
<span class="line" line-num="231" source-line-num="145">               <span class="tlv_ident_hdl_code">localparam bit [</span><span class="tlv_ident_sv_sig">\</span><span class="tlv_ident_hdl_code">$clog2((4)+1)-1:0] full_mark_6 = 4 - 0;</span></span>
<span class="line" line-num="232" source-line-num="145">         </span>
<span class="line" line-num="233" source-line-num="145">            <span class="tlv_ident_comment">// FIFO Instantiation</span></span>
<span class="line" line-num="234" source-line-num="145">         </span>
<span class="line" line-num="235" source-line-num="145">            <span class="tlv_ident_comment">// Hierarchy declarations</span></span>
<span class="line" line-num="236" source-line-num="145">            <span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3">|stall3</span></span>
<span class="line" line-num="237" source-line-num="145">               <span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3&gt;entry">&gt;entry</span><span class="tlv_ident_beh_hier_1">[</span><span class="tlv_ident_hdl_code">(4)-1</span><span class="tlv_ident_beh_hier_1">:</span><span class="tlv_ident_hdl_code">0</span><span class="tlv_ident_beh_hier_1">]</span></span>
<span class="line" line-num="238" source-line-num="145">            <span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop&gt;stall_pipe|fifo_out">|fifo_out</span></span>
<span class="line" line-num="239" source-line-num="145">               <span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;stall_pipe|fifo_out&gt;entry">&gt;entry</span><span class="tlv_ident_beh_hier_1">[</span><span class="tlv_ident_hdl_code">(4)-1</span><span class="tlv_ident_beh_hier_1">:</span><span class="tlv_ident_hdl_code">0</span><span class="tlv_ident_beh_hier_1">]</span></span>
<span class="line" line-num="240" source-line-num="145">         </span>
<span class="line" line-num="241" source-line-num="145">            <span class="tlv_ident_comment">// Hierarchy</span></span>
<span class="line" line-num="242" source-line-num="145">            <span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3">|stall3</span></span>
<span class="line" line-num="243" source-line-num="145">               <span class="tlv_ident_stage_expr" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3@0">@0</span></span>
<span class="line" line-num="244" source-line-num="145">                  <span class="tlv_ident_assigned_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3$out_blocked"stage_in_phases="0">$out_blocked</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;stall_pipe"tlx_ref="">&gt;stall_pipe</span><span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop&gt;stall_pipe|fifo_out"tlx_ref="">|fifo_out</span><span class="tlv_ident_alignment_expr_1c" logical_entity="&gt;ring_stop&gt;stall_pipe|fifo_out@0">%+0</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|fifo_out$blocked"stage_in_phases="0">$blocked</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="245" source-line-num="145">                  <span class="tlv_ident_assigned_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3$blocked"stage_in_phases="0">$blocked</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_alignment_expr_1c" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3@2">%+1</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3$full"stage_in_phases="2">$full</span> <span class="tlv_ident_hdl_code">&amp;&amp; </span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3$out_blocked"stage_in_phases="0">$out_blocked</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="246" source-line-num="145">                  <span class="tlv_ident_hdl_code">`BOGUS_USE(</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3$blocked"stage_in_phases="0">$blocked</span><span class="tlv_ident_hdl_code">)   </span><span class="tlv_ident_comment">// Not required to be consumed elsewhere.</span></span>
<span class="line" line-num="247" source-line-num="145">                  <span class="tlv_ident_assigned_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3$would_bypass"stage_in_phases="0">$would_bypass</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_alignment_expr_1c" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3@2">%+1</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3$empty"stage_in_phases="2">$empty</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="248" source-line-num="145">                  <span class="tlv_ident_assigned_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3$bypass"stage_in_phases="0">$bypass</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3$would_bypass"stage_in_phases="0">$would_bypass</span> <span class="tlv_ident_hdl_code">&amp;&amp; ! </span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3$out_blocked"stage_in_phases="0">$out_blocked</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="249" source-line-num="145">                  <span class="tlv_ident_assigned_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3$push"stage_in_phases="0">$push</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3$trans_valid"stage_in_phases="0">$trans_valid</span> <span class="tlv_ident_hdl_code">&amp;&amp; ! </span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3$bypass"stage_in_phases="0">$bypass</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="250" source-line-num="145">                  <span class="tlv_ident_assigned_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3$grow"stage_in_phases="0">$grow</span>   <span class="tlv_ident_hdl_code">=   </span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3$trans_valid"stage_in_phases="0">$trans_valid</span> <span class="tlv_ident_hdl_code">&amp;&amp;   </span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3$out_blocked"stage_in_phases="0">$out_blocked</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="251" source-line-num="145">                  <span class="tlv_ident_assigned_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3$shrink"stage_in_phases="0">$shrink</span> <span class="tlv_ident_hdl_code">= ! </span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3$trans_avail"stage_in_phases="0">$trans_avail</span> <span class="tlv_ident_hdl_code">&amp;&amp; ! </span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3$out_blocked"stage_in_phases="0">$out_blocked</span> <span class="tlv_ident_hdl_code">&amp;&amp; ! </span><span class="tlv_ident_alignment_expr_1c" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3@2">%+1</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3$empty"stage_in_phases="2">$empty</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="252" source-line-num="145">                  <span class="tlv_ident_assigned_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3$valid_count"stage_in_phases="0">$valid_count</span><span class="tlv_ident_pipe_sig">[</span><span class="tlv_ident_sv_sig">\</span><span class="tlv_ident_hdl_code">$clog2((4)+1)-1</span><span class="tlv_ident_pipe_sig">:</span><span class="tlv_ident_hdl_code">0</span><span class="tlv_ident_pipe_sig">] </span><span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3$reset"stage_in_phases="0">$reset</span> <span class="tlv_ident_hdl_code">? '0</span></span>
<span class="line" line-num="253" source-line-num="145">                                                              <span class="tlv_ident_hdl_code">: </span><span class="tlv_ident_alignment_expr_1c" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3@2">%+1</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3$valid_count"stage_in_phases="2">$valid_count</span> <span class="tlv_ident_hdl_code">+ (</span></span>
<span class="line" line-num="254" source-line-num="145">                                                                   <span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3$grow"stage_in_phases="0">$grow</span>   <span class="tlv_ident_hdl_code">? { {(</span><span class="tlv_ident_sv_sig">\</span><span class="tlv_ident_hdl_code">$clog2((4)+1)-1){1'b0}}, 1'b1} :</span></span>
<span class="line" line-num="255" source-line-num="145">                                                                   <span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3$shrink"stage_in_phases="0">$shrink</span> <span class="tlv_ident_hdl_code">? '1</span></span>
<span class="line" line-num="256" source-line-num="145">                                                                           <span class="tlv_ident_hdl_code">: '0</span></span>
<span class="line" line-num="257" source-line-num="145">                                                                <span class="tlv_ident_hdl_code">);</span></span>
<span class="line" line-num="258" source-line-num="145">                  <span class="tlv_ident_comment">// At least 2 valid entries.</span></span>
<span class="line" line-num="259" source-line-num="145">                  <span class="tlv_ident_comment">//$two_valid = | $ValidCount[m4_counter_width-1:1];</span></span>
<span class="line" line-num="260" source-line-num="145">                  <span class="tlv_ident_comment">// but logic depth minimized by taking advantage of prev count &gt;= 4.</span></span>
<span class="line" line-num="261" source-line-num="145">                  <span class="tlv_ident_assigned_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3$two_valid"stage_in_phases="0">$two_valid</span> <span class="tlv_ident_hdl_code">= | </span><span class="tlv_ident_alignment_expr_1c" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3@2">%+1</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3$valid_count"stage_in_phases="2">$valid_count</span><span class="tlv_ident_pipe_sig">[</span><span class="tlv_ident_sv_sig">\</span><span class="tlv_ident_hdl_code">$clog2((4)+1)-1</span><span class="tlv_ident_pipe_sig">:</span><span class="tlv_ident_hdl_code">2</span><span class="tlv_ident_pipe_sig">] </span><span class="tlv_ident_hdl_code">|| | </span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3$valid_count"stage_in_phases="0">$valid_count</span><span class="tlv_ident_pipe_sig">[</span><span class="tlv_ident_hdl_code">2</span><span class="tlv_ident_pipe_sig">:</span><span class="tlv_ident_hdl_code">1</span><span class="tlv_ident_pipe_sig">]</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="262" source-line-num="145">                  <span class="tlv_ident_comment">// These are an optimization of the commented block below to operate on vectors, rather than bits.</span></span>
<span class="line" line-num="263" source-line-num="145">                  <span class="tlv_ident_comment">// TODO: Keep optimizing...</span></span>
<span class="line" line-num="264" source-line-num="145">                  <span class="tlv_ident_hdl_code">{</span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3&gt;entry"tlx_ref="">&gt;entry</span><span class="tlv_ident_beh_hier_1">[</span><span class="tlv_ident_hdl_code">*</span><span class="tlv_ident_beh_hier_1">]</span><span class="tlv_ident_assigned_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3&gt;entry$prev_entry_was_tail"stage_in_phases="0">$$prev_entry_was_tail</span><span class="tlv_ident_hdl_code">} = {</span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3&gt;entry"tlx_ref="">&gt;entry</span><span class="tlv_ident_beh_hier_1">[</span><span class="tlv_ident_hdl_code">*</span><span class="tlv_ident_beh_hier_1">]</span><span class="tlv_ident_alignment_expr_1c" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3@2">%+1</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3&gt;entry$reconstructed_is_tail"stage_in_phases="2">$reconstructed_is_tail</span><span class="tlv_ident_sv_sig">\</span><span class="tlv_ident_hdl_code">[2:0], </span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3&gt;entry"tlx_ref="">&gt;entry</span><span class="tlv_ident_beh_hier_1">[</span><span class="tlv_ident_hdl_code">3</span><span class="tlv_ident_beh_hier_1">]</span><span class="tlv_ident_alignment_expr_1c" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3@2">%+1</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3&gt;entry$reconstructed_is_tail"stage_in_phases="2">$reconstructed_is_tail</span><span class="tlv_ident_hdl_code">} </span><span class="tlv_ident_comment">/* circular &lt;&lt; */</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="265" source-line-num="145">                  <span class="tlv_ident_hdl_code">{</span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3&gt;entry"tlx_ref="">&gt;entry</span><span class="tlv_ident_beh_hier_1">[</span><span class="tlv_ident_hdl_code">*</span><span class="tlv_ident_beh_hier_1">]</span><span class="tlv_ident_assigned_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3&gt;entry$push"stage_in_phases="0">$$push</span><span class="tlv_ident_hdl_code">} = {4{</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3$push"stage_in_phases="0">$push</span><span class="tlv_ident_hdl_code">}} &amp; </span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3&gt;entry"tlx_ref="">&gt;entry</span><span class="tlv_ident_beh_hier_1">[</span><span class="tlv_ident_hdl_code">*</span><span class="tlv_ident_beh_hier_1">]</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3&gt;entry$prev_entry_was_tail"stage_in_phases="0">$prev_entry_was_tail</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="266" source-line-num="145">                  <span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3&gt;entry">&gt;entry</span><span class="tlv_ident_beh_hier_1">[</span><span class="tlv_ident_hdl_code">*</span><span class="tlv_ident_beh_hier_1">]</span></span>
<span class="line" line-num="267" source-line-num="145">                     <span class="tlv_ident_comment">// Replaced with optimized versions above:</span></span>
<span class="line" line-num="268" source-line-num="145">                     <span class="tlv_ident_comment">// $prev_entry_was_tail = &gt;entry[(entry+(m4_depth)-1)%(m4_depth)]%+1$reconstructed_is_tail;</span></span>
<span class="line" line-num="269" source-line-num="145">                     <span class="tlv_ident_comment">// $push = |m4_in_pipe$push &amp;&amp; $prev_entry_was_tail;</span></span>
<span class="line" line-num="270" source-line-num="145">                     <span class="tlv_ident_assigned_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3&gt;entry$valid"stage_in_phases="0">$valid</span> <span class="tlv_ident_hdl_code">= (</span><span class="tlv_ident_alignment_expr_1c" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3@2">%+1</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3&gt;entry$reconstructed_valid"stage_in_phases="2">$reconstructed_valid</span> <span class="tlv_ident_hdl_code">&amp;&amp; ! </span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;stall_pipe"tlx_ref="">&gt;stall_pipe</span><span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop&gt;stall_pipe|fifo_out"tlx_ref="">|fifo_out</span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;stall_pipe|fifo_out&gt;entry"tlx_ref="">&gt;entry</span><span class="tlv_ident_alignment_expr_1c" logical_entity="&gt;ring_stop&gt;stall_pipe|fifo_out@0">%+0</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|fifo_out&gt;entry$pop"stage_in_phases="0">$pop</span><span class="tlv_ident_hdl_code">) || </span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3&gt;entry$push"stage_in_phases="0">$push</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="271" source-line-num="145">                     <span class="tlv_ident_assigned_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3&gt;entry$is_tail"stage_in_phases="0">$is_tail</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3"tlx_ref="">|stall3</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3$trans_valid"stage_in_phases="0">$trans_valid</span> <span class="tlv_ident_hdl_code">? </span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3&gt;entry$prev_entry_was_tail"stage_in_phases="0">$prev_entry_was_tail</span>  <span class="tlv_ident_comment">// shift tail</span></span>
<span class="line" line-num="272" source-line-num="145">                                                        <span class="tlv_ident_hdl_code">: </span><span class="tlv_ident_alignment_expr_1c" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3@2">%+1</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3&gt;entry$reconstructed_is_tail"stage_in_phases="2">$reconstructed_is_tail</span><span class="tlv_ident_hdl_code">;  </span><span class="tlv_ident_comment">// retain tail</span></span>
<span class="line" line-num="273" source-line-num="145">                     <span class="tlv_ident_assigned_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3&gt;entry$state"stage_in_phases="0">$state</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3"tlx_ref="">|stall3</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3$reset"stage_in_phases="0">$reset</span> <span class="tlv_ident_hdl_code">? 1'b0</span></span>
<span class="line" line-num="274" source-line-num="145">                                                <span class="tlv_ident_hdl_code">: </span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3&gt;entry$valid"stage_in_phases="0">$valid</span> <span class="tlv_ident_hdl_code">&amp;&amp; ! (</span><span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3"tlx_ref="">|stall3</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3$two_valid"stage_in_phases="0">$two_valid</span> <span class="tlv_ident_hdl_code">&amp;&amp; </span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3&gt;entry$is_tail"stage_in_phases="0">$is_tail</span><span class="tlv_ident_hdl_code">);</span></span>
<span class="line" line-num="275" source-line-num="145">               <span class="tlv_ident_stage_expr" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3@2">@1</span></span>
<span class="line" line-num="276" source-line-num="145">                  <span class="tlv_ident_assigned_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3$empty"stage_in_phases="2">$empty</span> <span class="tlv_ident_hdl_code">= ! </span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3$two_valid"stage_in_phases="2">$two_valid</span> <span class="tlv_ident_hdl_code">&amp;&amp; ! </span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3$valid_count"stage_in_phases="2">$valid_count</span><span class="tlv_ident_pipe_sig">[</span><span class="tlv_ident_hdl_code">0</span><span class="tlv_ident_pipe_sig">]</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="277" source-line-num="145">                  <span class="tlv_ident_assigned_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3$full"stage_in_phases="2">$full</span> <span class="tlv_ident_hdl_code">= (</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3$valid_count"stage_in_phases="2">$valid_count</span> <span class="tlv_ident_hdl_code">== full_mark_6);  </span><span class="tlv_ident_comment">// Could optimize for power-of-two depth.</span></span>
<span class="line" line-num="278" source-line-num="145">               <span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3&gt;entry">&gt;entry</span><span class="tlv_ident_beh_hier_1">[</span><span class="tlv_ident_hdl_code">*</span><span class="tlv_ident_beh_hier_1">]</span></span>
<span class="line" line-num="279" source-line-num="145">                  <span class="tlv_ident_stage_expr" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3@2">@1</span></span>
<span class="line" line-num="280" source-line-num="145">                     <span class="tlv_ident_assigned_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3&gt;entry$prev_entry_state"stage_in_phases="2">$prev_entry_state</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3&gt;entry"tlx_ref="">&gt;entry</span><span class="tlv_ident_beh_hier_1">[</span><span class="tlv_ident_hdl_code">(entry+(4)-1)%(4)</span><span class="tlv_ident_beh_hier_1">]</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3&gt;entry$state"stage_in_phases="2">$state</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="281" source-line-num="145">                     <span class="tlv_ident_assigned_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3&gt;entry$next_entry_state"stage_in_phases="2">$next_entry_state</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3&gt;entry"tlx_ref="">&gt;entry</span><span class="tlv_ident_beh_hier_1">[</span><span class="tlv_ident_hdl_code">(entry+1)%(4)</span><span class="tlv_ident_beh_hier_1">]</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3&gt;entry$state"stage_in_phases="2">$state</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="282" source-line-num="145">                     <span class="tlv_ident_assigned_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3&gt;entry$reconstructed_is_tail"stage_in_phases="2">$reconstructed_is_tail</span> <span class="tlv_ident_hdl_code">= (  </span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;stall_pipe"tlx_ref="">&gt;stall_pipe</span><span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3"tlx_ref="">|stall3</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3$two_valid"stage_in_phases="2">$two_valid</span> <span class="tlv_ident_hdl_code">&amp;&amp; (!</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3&gt;entry$state"stage_in_phases="2">$state</span> <span class="tlv_ident_hdl_code">&amp;&amp; </span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3&gt;entry$prev_entry_state"stage_in_phases="2">$prev_entry_state</span><span class="tlv_ident_hdl_code">)) ||</span></span>
<span class="line" line-num="283" source-line-num="145">                                              <span class="tlv_ident_hdl_code">(! </span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;stall_pipe"tlx_ref="">&gt;stall_pipe</span><span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3"tlx_ref="">|stall3</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3$two_valid"stage_in_phases="2">$two_valid</span> <span class="tlv_ident_hdl_code">&amp;&amp; (!</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3&gt;entry$next_entry_state"stage_in_phases="2">$next_entry_state</span> <span class="tlv_ident_hdl_code">&amp;&amp; </span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3&gt;entry$state"stage_in_phases="2">$state</span><span class="tlv_ident_hdl_code">)) ||</span></span>
<span class="line" line-num="284" source-line-num="145">                                              <span class="tlv_ident_hdl_code">(</span><span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3"tlx_ref="">|stall3</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3$empty"stage_in_phases="2">$empty</span> <span class="tlv_ident_hdl_code">&amp;&amp; (entry == 0));  </span><span class="tlv_ident_comment">// need a tail when empty for push</span></span>
<span class="line" line-num="285" source-line-num="145">                     <span class="tlv_ident_assigned_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3&gt;entry$is_head"stage_in_phases="2">$is_head</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3&gt;entry$state"stage_in_phases="2">$state</span> <span class="tlv_ident_hdl_code">&amp;&amp; ! </span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3&gt;entry$prev_entry_state"stage_in_phases="2">$prev_entry_state</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="286" source-line-num="145">                     <span class="tlv_ident_assigned_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3&gt;entry$reconstructed_valid"stage_in_phases="2">$reconstructed_valid</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3&gt;entry$state"stage_in_phases="2">$state</span> <span class="tlv_ident_hdl_code">|| (</span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;stall_pipe"tlx_ref="">&gt;stall_pipe</span><span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3"tlx_ref="">|stall3</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3$two_valid"stage_in_phases="2">$two_valid</span> <span class="tlv_ident_hdl_code">&amp;&amp; </span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3&gt;entry$prev_entry_state"stage_in_phases="2">$prev_entry_state</span><span class="tlv_ident_hdl_code">);</span></span>
<span class="line" line-num="287" source-line-num="145">            <span class="tlv_ident_comment">// Write data</span></span>
<span class="line" line-num="288" source-line-num="145">            <span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3">|stall3</span></span>
<span class="line" line-num="289" source-line-num="145">               <span class="tlv_ident_stage_expr" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3@0">@0</span></span>
<span class="line" line-num="290" source-line-num="145">                  <span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3&gt;entry">&gt;entry</span><span class="tlv_ident_beh_hier_1">[</span><span class="tlv_ident_hdl_code">*</span><span class="tlv_ident_beh_hier_1">]</span></span>
<span class="line" line-num="291" source-line-num="145">                     <span class="tlv_ident_comment">//?$push</span></span>
<span class="line" line-num="292" source-line-num="145">                     <span class="tlv_ident_comment">//   $aNY = |m4_in_pipe['']m4_trans_hier$ANY;</span></span>
<span class="line" line-num="293" source-line-num="145">                     <span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3&gt;entry&gt;trans">&gt;trans</span></span>
<span class="line" line-num="294" source-line-num="145">                        <span class="tlv_ident_assigned_sig_keyword" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3&gt;entry&gt;trans$ANY"stage_in_phases="0">$ANY</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3&gt;entry"tlx_ref="">&gt;entry</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3&gt;entry$push"stage_in_phases="0">$push</span> <span class="tlv_ident_hdl_code">? </span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;stall_pipe"tlx_ref="">&gt;stall_pipe</span><span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3"tlx_ref="">|stall3</span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3&gt;trans"tlx_ref="">&gt;trans</span><span class="tlv_ident_sig_keyword" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3&gt;trans$ANY"stage_in_phases="0">$ANY</span> <span class="tlv_ident_hdl_code">: </span><span class="tlv_ident_alignment_expr_1c" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3@2">%+1</span><span class="tlv_ident_sig_keyword" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3&gt;entry&gt;trans$ANY"stage_in_phases="2">$ANY</span> <span class="tlv_ident_comment">/* RETAIN */</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="295" source-line-num="145">            <span class="tlv_ident_comment">// Read data</span></span>
<span class="line" line-num="296" source-line-num="145">            <span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop&gt;stall_pipe|fifo_out">|fifo_out</span></span>
<span class="line" line-num="297" source-line-num="145">               <span class="tlv_ident_stage_expr" logical_entity="&gt;ring_stop&gt;stall_pipe|fifo_out@0">@0</span></span>
<span class="line" line-num="298" source-line-num="145">                  <span class="tlv_ident_comment">//$pop  = ! &gt;m4_top|m4_in_pipe%m4_align(m4_in_at + 1, m4_out_at)$empty &amp;&amp; ! $blocked;</span></span>
<span class="line" line-num="299" source-line-num="145">                  <span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;stall_pipe|fifo_out&gt;entry">&gt;entry</span><span class="tlv_ident_beh_hier_1">[</span><span class="tlv_ident_hdl_code">*</span><span class="tlv_ident_beh_hier_1">]</span></span>
<span class="line" line-num="300" source-line-num="145">                     <span class="tlv_ident_assigned_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|fifo_out&gt;entry$is_head"stage_in_phases="0">$is_head</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;stall_pipe"tlx_ref="">&gt;stall_pipe</span><span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3"tlx_ref="">|stall3</span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3&gt;entry"tlx_ref="">&gt;entry</span><span class="tlv_ident_alignment_expr_1c" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3@2">%+1</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3&gt;entry$is_head"stage_in_phases="2">$is_head</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="301" source-line-num="145">                     <span class="tlv_ident_assigned_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|fifo_out&gt;entry$pop"stage_in_phases="0">$pop</span>  <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|fifo_out&gt;entry$is_head"stage_in_phases="0">$is_head</span> <span class="tlv_ident_hdl_code">&amp;&amp; ! </span><span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop&gt;stall_pipe|fifo_out"tlx_ref="">|fifo_out</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|fifo_out$blocked"stage_in_phases="0">$blocked</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="302" source-line-num="145">                     <span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;stall_pipe|fifo_out&gt;entry&gt;read_masked">&gt;read_masked</span></span>
<span class="line" line-num="303" source-line-num="145">                        <span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;stall_pipe|fifo_out&gt;entry&gt;read_masked&gt;trans">&gt;trans</span></span>
<span class="line" line-num="304" source-line-num="145">                           <span class="tlv_ident_assigned_sig_keyword" logical_entity="&gt;ring_stop&gt;stall_pipe|fifo_out&gt;entry&gt;read_masked&gt;trans$ANY"stage_in_phases="0">$ANY</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;stall_pipe|fifo_out&gt;entry"tlx_ref="">&gt;entry</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|fifo_out&gt;entry$is_head"stage_in_phases="0">$is_head</span> <span class="tlv_ident_hdl_code">? </span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;stall_pipe"tlx_ref="">&gt;stall_pipe</span><span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3"tlx_ref="">|stall3</span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3&gt;entry"tlx_ref="">&gt;entry</span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3&gt;entry&gt;trans"tlx_ref="">&gt;trans</span><span class="tlv_ident_alignment_expr_1c" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3@2">%+1</span><span class="tlv_ident_sig_keyword" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3&gt;entry&gt;trans$ANY"stage_in_phases="2">$ANY</span> <span class="tlv_ident_comment">/* $aNY */ </span><span class="tlv_ident_hdl_code">: '0;</span></span>
<span class="line" line-num="305" source-line-num="145">                     <span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;stall_pipe|fifo_out&gt;entry&gt;accum">&gt;accum</span></span>
<span class="line" line-num="306" source-line-num="145">                        <span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;stall_pipe|fifo_out&gt;entry&gt;accum&gt;trans">&gt;trans</span></span>
<span class="line" line-num="307" source-line-num="145">                           <span class="tlv_ident_assigned_sig_keyword" logical_entity="&gt;ring_stop&gt;stall_pipe|fifo_out&gt;entry&gt;accum&gt;trans$ANY"stage_in_phases="0">$ANY</span> <span class="tlv_ident_hdl_code">= ((entry == 0) ? '0 : </span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;stall_pipe|fifo_out&gt;entry"tlx_ref="">&gt;entry</span><span class="tlv_ident_beh_hier_1">[</span><span class="tlv_ident_hdl_code">(entry+(4)-1)%(4)</span><span class="tlv_ident_beh_hier_1">]</span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;stall_pipe|fifo_out&gt;entry&gt;accum"tlx_ref="">&gt;accum</span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;stall_pipe|fifo_out&gt;entry&gt;accum&gt;trans"tlx_ref="">&gt;trans</span><span class="tlv_ident_sig_keyword" logical_entity="&gt;ring_stop&gt;stall_pipe|fifo_out&gt;entry&gt;accum&gt;trans$ANY"stage_in_phases="0">$ANY</span><span class="tlv_ident_hdl_code">) |</span></span>
<span class="line" line-num="308" source-line-num="145">                                  <span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;stall_pipe|fifo_out&gt;entry"tlx_ref="">&gt;entry</span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;stall_pipe|fifo_out&gt;entry&gt;read_masked"tlx_ref="">&gt;read_masked</span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;stall_pipe|fifo_out&gt;entry&gt;read_masked&gt;trans"tlx_ref="">&gt;trans</span><span class="tlv_ident_sig_keyword" logical_entity="&gt;ring_stop&gt;stall_pipe|fifo_out&gt;entry&gt;read_masked&gt;trans$ANY"stage_in_phases="0">$ANY</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="309" source-line-num="145">                  <span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;stall_pipe|fifo_out&gt;head">&gt;head</span></span>
<span class="line" line-num="310" source-line-num="145">                     <span class="tlv_ident_assigned_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|fifo_out&gt;head$trans_avail"stage_in_phases="0">$trans_avail</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop&gt;stall_pipe|fifo_out"tlx_ref="">|fifo_out</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|fifo_out$trans_avail"stage_in_phases="0">$trans_avail</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="311" source-line-num="145">                     <span class="tlv_ident_when">?$trans_avail</span></span>
<span class="line" line-num="312" source-line-num="145">                        <span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;stall_pipe|fifo_out&gt;head&gt;trans">&gt;trans</span></span>
<span class="line" line-num="313" source-line-num="145">                           <span class="tlv_ident_assigned_sig_keyword" logical_entity="&gt;ring_stop&gt;stall_pipe|fifo_out&gt;head&gt;trans$ANY"stage_in_phases="0">$ANY</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;stall_pipe"tlx_ref="">&gt;stall_pipe</span><span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop&gt;stall_pipe|fifo_out"tlx_ref="">|fifo_out</span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;stall_pipe|fifo_out&gt;entry"tlx_ref="">&gt;entry</span><span class="tlv_ident_beh_hier_1">[</span><span class="tlv_ident_hdl_code">(4)-1</span><span class="tlv_ident_beh_hier_1">]</span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;stall_pipe|fifo_out&gt;entry&gt;accum"tlx_ref="">&gt;accum</span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;stall_pipe|fifo_out&gt;entry&gt;accum&gt;trans"tlx_ref="">&gt;trans</span><span class="tlv_ident_sig_keyword" logical_entity="&gt;ring_stop&gt;stall_pipe|fifo_out&gt;entry&gt;accum&gt;trans$ANY"stage_in_phases="0">$ANY</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="314" source-line-num="145">         </span>
<span class="line" line-num="315" source-line-num="145">            <span class="tlv_ident_comment">// Bypass</span></span>
<span class="line" line-num="316" source-line-num="145">            <span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop&gt;stall_pipe|fifo_out">|fifo_out</span></span>
<span class="line" line-num="317" source-line-num="145">               <span class="tlv_ident_stage_expr" logical_entity="&gt;ring_stop&gt;stall_pipe|fifo_out@0">@0</span></span>
<span class="line" line-num="318" source-line-num="145">                  <span class="tlv_ident_comment">// Available output.  Sometimes it's necessary to know what would be coming to determined</span></span>
<span class="line" line-num="319" source-line-num="145">                  <span class="tlv_ident_comment">// if it's blocked.  This can be used externally in that case.</span></span>
<span class="line" line-num="320" source-line-num="145">                  <span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;stall_pipe|fifo_out&gt;fifo_head">&gt;fifo_head</span></span>
<span class="line" line-num="321" source-line-num="145">                     <span class="tlv_ident_assigned_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|fifo_out&gt;fifo_head$trans_avail"stage_in_phases="0">$trans_avail</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop&gt;stall_pipe|fifo_out"tlx_ref="">|fifo_out</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|fifo_out$trans_avail"stage_in_phases="0">$trans_avail</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="322" source-line-num="145">                     <span class="tlv_ident_when">?$trans_avail</span></span>
<span class="line" line-num="323" source-line-num="145">                        <span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;stall_pipe|fifo_out&gt;fifo_head&gt;trans">&gt;trans</span></span>
<span class="line" line-num="324" source-line-num="145">                           <span class="tlv_ident_assigned_sig_keyword" logical_entity="&gt;ring_stop&gt;stall_pipe|fifo_out&gt;fifo_head&gt;trans$ANY"stage_in_phases="0">$ANY</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;stall_pipe"tlx_ref="">&gt;stall_pipe</span><span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3"tlx_ref="">|stall3</span><span class="tlv_ident_alignment_expr_1c" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3@0">%+0</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3$would_bypass"stage_in_phases="0">$would_bypass</span></span>
<span class="line" line-num="325" source-line-num="145">                                        <span class="tlv_ident_hdl_code">? </span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;stall_pipe"tlx_ref="">&gt;stall_pipe</span><span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3"tlx_ref="">|stall3</span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3&gt;trans"tlx_ref="">&gt;trans</span><span class="tlv_ident_alignment_expr_1c" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3@0">%+0</span><span class="tlv_ident_sig_keyword" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3&gt;trans$ANY"stage_in_phases="0">$ANY</span></span>
<span class="line" line-num="326" source-line-num="145">                                        <span class="tlv_ident_hdl_code">: </span><span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop&gt;stall_pipe|fifo_out"tlx_ref="">|fifo_out</span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;stall_pipe|fifo_out&gt;head"tlx_ref="">&gt;head</span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;stall_pipe|fifo_out&gt;head&gt;trans"tlx_ref="">&gt;trans</span><span class="tlv_ident_sig_keyword" logical_entity="&gt;ring_stop&gt;stall_pipe|fifo_out&gt;head&gt;trans$ANY"stage_in_phases="0">$ANY</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="327" source-line-num="145">                  <span class="tlv_ident_assigned_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|fifo_out$trans_avail"stage_in_phases="0">$trans_avail</span> <span class="tlv_ident_hdl_code">= ! </span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;stall_pipe"tlx_ref="">&gt;stall_pipe</span><span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3"tlx_ref="">|stall3</span><span class="tlv_ident_alignment_expr_1c" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3@0">%+0</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3$would_bypass"stage_in_phases="0">$would_bypass</span> <span class="tlv_ident_hdl_code">|| </span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;stall_pipe"tlx_ref="">&gt;stall_pipe</span><span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3"tlx_ref="">|stall3</span><span class="tlv_ident_alignment_expr_1c" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3@0">%+0</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3$trans_avail"stage_in_phases="0">$trans_avail</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="328" source-line-num="145">                  <span class="tlv_ident_assigned_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|fifo_out$trans_valid"stage_in_phases="0">$trans_valid</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|fifo_out$trans_avail"stage_in_phases="0">$trans_avail</span> <span class="tlv_ident_hdl_code">&amp;&amp; ! </span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|fifo_out$blocked"stage_in_phases="0">$blocked</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="329" source-line-num="145">                  <span class="tlv_ident_when">?$trans_valid</span></span>
<span class="line" line-num="330" source-line-num="145">                     <span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;stall_pipe|fifo_out&gt;trans">&gt;trans</span></span>
<span class="line" line-num="331" source-line-num="145">                        <span class="tlv_ident_assigned_sig_keyword" logical_entity="&gt;ring_stop&gt;stall_pipe|fifo_out&gt;trans$ANY"stage_in_phases="0">$ANY</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop&gt;stall_pipe|fifo_out"tlx_ref="">|fifo_out</span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;stall_pipe|fifo_out&gt;fifo_head"tlx_ref="">&gt;fifo_head</span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;stall_pipe|fifo_out&gt;fifo_head&gt;trans"tlx_ref="">&gt;trans</span><span class="tlv_ident_sig_keyword" logical_entity="&gt;ring_stop&gt;stall_pipe|fifo_out&gt;fifo_head&gt;trans$ANY"stage_in_phases="0">$ANY</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="332" source-line-num="145">         </span>
<span class="line" line-num="333" source-line-num="145">         </span>
<span class="line" line-num="334" source-line-num="145">         </span>
<span class="line" line-num="335" source-line-num="145">            <span class="tlv_ident_comment">/* Alternate code for pointer indexing.  Replaces $ANY expression above.</span></span>
<span class="line" line-num="336" source-line-num="145">         </span>
<span class="line" line-num="337" source-line-num="145">            <span class="tlv_ident_comment">// Hierarchy</span></span>
<span class="line" line-num="338" source-line-num="145">            <span class="tlv_ident_comment">|stall3</span></span>
<span class="line" line-num="339" source-line-num="145">               <span class="tlv_ident_comment">&gt;entry2[(4)-1:0]</span></span>
<span class="line" line-num="340" source-line-num="145">         </span>
<span class="line" line-num="341" source-line-num="145">            <span class="tlv_ident_comment">// Head/Tail ptrs.</span></span>
<span class="line" line-num="342" source-line-num="145">            <span class="tlv_ident_comment">|stall3</span></span>
<span class="line" line-num="343" source-line-num="145">               <span class="tlv_ident_comment">@0</span></span>
<span class="line" line-num="344" source-line-num="145">                  <span class="tlv_ident_comment">%next$WrPtr[\$clog2(4)-1:0] =</span></span>
<span class="line" line-num="345" source-line-num="145">                      <span class="tlv_ident_comment">$reset       ? '0 :</span></span>
<span class="line" line-num="346" source-line-num="145">                      <span class="tlv_ident_comment">$trans_valid ? ($WrPtr == (4 - 1))</span></span>
<span class="line" line-num="347" source-line-num="145">                                       <span class="tlv_ident_comment">? '0</span></span>
<span class="line" line-num="348" source-line-num="145">                                       <span class="tlv_ident_comment">: $WrPtr + {{(\$clog2(4)-1){1'b0}}, 1'b1} :</span></span>
<span class="line" line-num="349" source-line-num="145">                                     <span class="tlv_ident_comment">$RETAIN;</span></span>
<span class="line" line-num="350" source-line-num="145">            <span class="tlv_ident_comment">|fifo_out</span></span>
<span class="line" line-num="351" source-line-num="145">               <span class="tlv_ident_comment">@0</span></span>
<span class="line" line-num="352" source-line-num="145">                  <span class="tlv_ident_comment">%next$RdPtr[\$clog2(4)-1:0] =</span></span>
<span class="line" line-num="353" source-line-num="145">                      <span class="tlv_ident_comment">&gt;stall_pipe|stall3%+0$reset</span></span>
<span class="line" line-num="354" source-line-num="145">                                   <span class="tlv_ident_comment">? '0 :</span></span>
<span class="line" line-num="355" source-line-num="145">                      <span class="tlv_ident_comment">$trans_valid ? ($RdPtr == (4 - 1))</span></span>
<span class="line" line-num="356" source-line-num="145">                                       <span class="tlv_ident_comment">? '0</span></span>
<span class="line" line-num="357" source-line-num="145">                                       <span class="tlv_ident_comment">: $RdPtr + {{(\$clog2(4)-1){1'b0}}, 1'b1} :</span></span>
<span class="line" line-num="358" source-line-num="145">                                     <span class="tlv_ident_comment">$RETAIN;</span></span>
<span class="line" line-num="359" source-line-num="145">            <span class="tlv_ident_comment">// Write FIFO</span></span>
<span class="line" line-num="360" source-line-num="145">            <span class="tlv_ident_comment">|stall3</span></span>
<span class="line" line-num="361" source-line-num="145">               <span class="tlv_ident_comment">@0</span></span>
<span class="line" line-num="362" source-line-num="145">                  <span class="tlv_ident_comment">$dummy = '0;</span></span>
<span class="line" line-num="363" source-line-num="145">                  <span class="tlv_ident_comment">?$trans_valid</span></span>
<span class="line" line-num="364" source-line-num="145">                     <span class="tlv_ident_comment">// This doesn't work because SV complains for FIFOs in replicated context that</span></span>
<span class="line" line-num="365" source-line-num="145">                     <span class="tlv_ident_comment">// there are multiple procedures that assign the signals.</span></span>
<span class="line" line-num="366" source-line-num="145">                     <span class="tlv_ident_comment">// Array writes can be done in an SV module.</span></span>
<span class="line" line-num="367" source-line-num="145">                     <span class="tlv_ident_comment">// The only long-term resolutions are support for module generation and use</span></span>
<span class="line" line-num="368" source-line-num="145">                     <span class="tlv_ident_comment">// signals declared within for loops with cross-hierarchy references in SV.</span></span>
<span class="line" line-num="369" source-line-num="145">                     <span class="tlv_ident_comment">// TODO: To make a simulation-efficient FIFO, use DesignWare.</span></span>
<span class="line" line-num="370" source-line-num="145">                     <span class="tlv_ident_comment">{&gt;entry2[$WrPtr]$$ANY} = $ANY;</span></span>
<span class="line" line-num="371" source-line-num="145">            <span class="tlv_ident_comment">// Read FIFO</span></span>
<span class="line" line-num="372" source-line-num="145">            <span class="tlv_ident_comment">|fifo_out</span></span>
<span class="line" line-num="373" source-line-num="145">               <span class="tlv_ident_comment">@0</span></span>
<span class="line" line-num="374" source-line-num="145">                  <span class="tlv_ident_comment">&gt;read2</span></span>
<span class="line" line-num="375" source-line-num="145">                     <span class="tlv_ident_comment">$trans_valid = |fifo_out$trans_valid;</span></span>
<span class="line" line-num="376" source-line-num="145">                     <span class="tlv_ident_comment">?$trans_valid</span></span>
<span class="line" line-num="377" source-line-num="145">                        <span class="tlv_ident_comment">$ANY = &gt;stall_pipe|stall3&gt;entry2[|fifo_out$RdPtr]%+0$ANY;</span></span>
<span class="line" line-num="378" source-line-num="145">                     <span class="tlv_ident_comment">`BOGUS_USE($dummy)</span></span>
<span class="line" line-num="379" source-line-num="145">                  <span class="tlv_ident_comment">?$trans_valid</span></span>
<span class="line" line-num="380" source-line-num="145">                     <span class="tlv_ident_comment">$ANY = &gt;read2$ANY;</span></span>
<span class="line" line-num="381" source-line-num="145">            <span class="tlv_ident_comment">*/</span></span>
<span class="line" line-num="382" source-line-num="145">         <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="383" source-line-num="146">         <span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop&gt;stall_pipe|fifo_out">|fifo_out</span></span>
<span class="line" line-num="384" source-line-num="147">            <span class="tlv_ident_stage_expr" logical_entity="&gt;ring_stop&gt;stall_pipe|fifo_out@0">@0</span></span>
<span class="line" line-num="385" source-line-num="148">               <span class="tlv_ident_comment">// blocked if destination is same as ring_stop</span></span>
<span class="line" line-num="386" source-line-num="149">               <span class="tlv_ident_assigned_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|fifo_out$blocked"stage_in_phases="0">$blocked</span> <span class="tlv_ident_hdl_code">= 1'b0; </span><span class="tlv_ident_comment">// &gt;fifo_head&gt;trans$dest == ring_stop;</span></span>
<span class="line" line-num="387" source-line-num="150">      </span>
<span class="line" line-num="388" source-line-num="151">      <span class="tlv_ident_comment">// Free-Flow Pipeline after Ring Out</span></span>
<span class="line" line-num="389" source-line-num="152">      <span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop|pipe1">|pipe1</span></span>
<span class="line" line-num="390" source-line-num="153">         <span class="tlv_ident_stage_expr" logical_entity="&gt;ring_stop|pipe1@0">@0</span></span>
<span class="line" line-num="391" source-line-num="154">            <span class="tlv_ident_assigned_pipe_sig" logical_entity="&gt;ring_stop|pipe1$trans_valid"stage_in_phases="0">$trans_valid</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop"tlx_ref="">&gt;ring_stop</span><span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop|ring_out"tlx_ref="">|ring_out</span><span class="tlv_ident_alignment_expr_1c" logical_entity="&gt;ring_stop|ring_out@2">%+1</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop|ring_out$trans_valid"stage_in_phases="2">$trans_valid</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="392" source-line-num="155">            <span class="tlv_ident_when">?$trans_valid</span></span>
<span class="line" line-num="393" source-line-num="156">               <span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop|pipe1&gt;trans">&gt;trans</span></span>
<span class="line" line-num="394" source-line-num="157">                  <span class="tlv_ident_assigned_sig_keyword" logical_entity="&gt;ring_stop|pipe1&gt;trans$ANY"stage_in_phases="0">$ANY</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop"tlx_ref="">&gt;ring_stop</span><span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop|ring_out"tlx_ref="">|ring_out</span><span class="tlv_ident_alignment_expr_1c" logical_entity="&gt;ring_stop|ring_out@2">%+1</span><span class="tlv_ident_sig_keyword" logical_entity="&gt;ring_stop|ring_out$ANY"stage_in_phases="2">$ANY</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="395" source-line-num="158">      </span>
<span class="line" line-num="396" source-line-num="159">      <span class="tlv_ident_comment">// Arb</span></span>
<span class="line" line-num="397" source-line-num="160">      <span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop|arb_out">|arb_out</span></span>
<span class="line" line-num="398" source-line-num="161">         <span class="tlv_ident_stage_expr" logical_entity="&gt;ring_stop|arb_out@0">@0</span></span>
<span class="line" line-num="399" source-line-num="162">            <span class="tlv_ident_comment">// bypass if pipe1 does not have a valid transaction and FIFO does</span></span>
<span class="line" line-num="400" source-line-num="163">            <span class="tlv_ident_comment">// and packet's destination is same as ring_stop</span></span>
<span class="line" line-num="401" source-line-num="164">            <span class="tlv_ident_assigned_pipe_sig" logical_entity="&gt;ring_stop|arb_out$bypass"stage_in_phases="0">$bypass</span> <span class="tlv_ident_hdl_code">= !(</span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop"tlx_ref="">&gt;ring_stop</span><span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop|pipe1"tlx_ref="">|pipe1</span><span class="tlv_ident_alignment_expr_1c" logical_entity="&gt;ring_stop|pipe1@2">%+1</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop|pipe1$trans_valid"stage_in_phases="2">$trans_valid</span><span class="tlv_ident_hdl_code">) &amp;&amp;</span></span>
<span class="line" line-num="402" source-line-num="165">                      <span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop"tlx_ref="">&gt;ring_stop</span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;stall_pipe"tlx_ref="">&gt;stall_pipe</span><span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop&gt;stall_pipe|fifo_out"tlx_ref="">|fifo_out</span><span class="tlv_ident_alignment_expr_1c" logical_entity="&gt;ring_stop&gt;stall_pipe|fifo_out@2">%+1</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|fifo_out$trans_valid"stage_in_phases="2">$trans_valid</span> <span class="tlv_ident_hdl_code">&amp;&amp;</span></span>
<span class="line" line-num="403" source-line-num="166">                      <span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop"tlx_ref="">&gt;ring_stop</span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;stall_pipe"tlx_ref="">&gt;stall_pipe</span><span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop&gt;stall_pipe|fifo_out"tlx_ref="">|fifo_out</span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;stall_pipe|fifo_out&gt;trans"tlx_ref="">&gt;trans</span><span class="tlv_ident_alignment_expr_1c" logical_entity="&gt;ring_stop&gt;stall_pipe|fifo_out@2">%+1</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|fifo_out&gt;trans$dest"stage_in_phases="2">$dest</span> <span class="tlv_ident_hdl_code">== ring_stop;</span></span>
<span class="line" line-num="404" source-line-num="167">            <span class="tlv_ident_assigned_pipe_sig" logical_entity="&gt;ring_stop|arb_out$trans_valid"stage_in_phases="0">$trans_valid</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop|arb_out$bypass"stage_in_phases="0">$bypass</span> <span class="tlv_ident_hdl_code">||</span></span>
<span class="line" line-num="405" source-line-num="168">                           <span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop"tlx_ref="">&gt;ring_stop</span><span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop|pipe1"tlx_ref="">|pipe1</span><span class="tlv_ident_alignment_expr_1c" logical_entity="&gt;ring_stop|pipe1@2">%+1</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop|pipe1$trans_valid"stage_in_phases="2">$trans_valid</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="406" source-line-num="169">            <span class="tlv_ident_when">?$trans_valid</span></span>
<span class="line" line-num="407" source-line-num="170">               <span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop|arb_out&gt;trans">&gt;trans</span></span>
<span class="line" line-num="408" source-line-num="171">                  <span class="tlv_ident_assigned_sig_keyword" logical_entity="&gt;ring_stop|arb_out&gt;trans$ANY"stage_in_phases="0">$ANY</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop|arb_out"tlx_ref="">|arb_out</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop|arb_out$bypass"stage_in_phases="0">$bypass</span> <span class="tlv_ident_hdl_code">? </span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop"tlx_ref="">&gt;ring_stop</span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;stall_pipe"tlx_ref="">&gt;stall_pipe</span><span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop&gt;stall_pipe|fifo_out"tlx_ref="">|fifo_out</span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;stall_pipe|fifo_out&gt;trans"tlx_ref="">&gt;trans</span><span class="tlv_ident_alignment_expr_1c" logical_entity="&gt;ring_stop&gt;stall_pipe|fifo_out@2">%+1</span><span class="tlv_ident_sig_keyword" logical_entity="&gt;ring_stop&gt;stall_pipe|fifo_out&gt;trans$ANY"stage_in_phases="2">$ANY</span> <span class="tlv_ident_hdl_code">:</span></span>
<span class="line" line-num="409" source-line-num="172">                                           <span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop"tlx_ref="">&gt;ring_stop</span><span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop|pipe1"tlx_ref="">|pipe1</span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop|pipe1&gt;trans"tlx_ref="">&gt;trans</span><span class="tlv_ident_alignment_expr_1c" logical_entity="&gt;ring_stop|pipe1@2">%+1</span><span class="tlv_ident_sig_keyword" logical_entity="&gt;ring_stop|pipe1&gt;trans$ANY"stage_in_phases="2">$ANY</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="410" source-line-num="173">      </span>
<span class="line" line-num="411" source-line-num="174">      <span class="tlv_ident_comment">// Free-Flow Pipeline after Arb</span></span>
<span class="line" line-num="412" source-line-num="175">      <span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;pipe2">&gt;pipe2</span></span>
<span class="line" line-num="413" source-line-num="176">         <span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop&gt;pipe2|pipe2">|pipe2</span></span>
<span class="line" line-num="414" source-line-num="177">            <span class="tlv_ident_stage_expr" logical_entity="&gt;ring_stop&gt;pipe2|pipe2@0">@0</span></span>
<span class="line" line-num="415" source-line-num="178">               <span class="tlv_ident_assigned_pipe_sig" logical_entity="&gt;ring_stop&gt;pipe2|pipe2$reset"stage_in_phases="0">$reset</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_1" logical_entity=""tlx_ref="">&gt;top</span><span class="tlv_ident_pipeline" logical_entity="|default"tlx_ref="">|default</span><span class="tlv_ident_alignment_expr_1c" logical_entity="|default@2">%+1</span><span class="tlv_ident_pipe_sig" logical_entity="|default$reset"stage_in_phases="2">$reset</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="416" source-line-num="179">               <span class="tlv_ident_assigned_pipe_sig" logical_entity="&gt;ring_stop&gt;pipe2|pipe2$trans_avail"stage_in_phases="0">$trans_avail</span> <span class="tlv_ident_hdl_code">= ! </span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;pipe2|pipe2$reset"stage_in_phases="0">$reset</span> <span class="tlv_ident_hdl_code">&amp;&amp; </span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop"tlx_ref="">&gt;ring_stop</span><span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop|arb_out"tlx_ref="">|arb_out</span><span class="tlv_ident_alignment_expr_1c" logical_entity="&gt;ring_stop|arb_out@2">%+1</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop|arb_out$trans_valid"stage_in_phases="2">$trans_valid</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="417" source-line-num="180">               <span class="tlv_ident_assigned_pipe_sig" logical_entity="&gt;ring_stop&gt;pipe2|pipe2$trans_valid"stage_in_phases="0">$trans_valid</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;pipe2|pipe2$trans_avail"stage_in_phases="0">$trans_avail</span> <span class="tlv_ident_hdl_code">&amp;&amp; ! </span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;pipe2|pipe2$blocked"stage_in_phases="0">$blocked</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="418" source-line-num="181">               <span class="tlv_ident_when">?$trans_valid</span></span>
<span class="line" line-num="419" source-line-num="182">                  <span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;pipe2|pipe2&gt;trans">&gt;trans</span></span>
<span class="line" line-num="420" source-line-num="183">                     <span class="tlv_ident_assigned_sig_keyword" logical_entity="&gt;ring_stop&gt;pipe2|pipe2&gt;trans$ANY"stage_in_phases="0">$ANY</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop"tlx_ref="">&gt;ring_stop</span><span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop|arb_out"tlx_ref="">|arb_out</span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop|arb_out&gt;trans"tlx_ref="">&gt;trans</span><span class="tlv_ident_alignment_expr_1c" logical_entity="&gt;ring_stop|arb_out@2">%+1</span><span class="tlv_ident_sig_keyword" logical_entity="&gt;ring_stop|arb_out&gt;trans$ANY"stage_in_phases="2">$ANY</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="421" source-line-num="184">         </span>
<span class="line" line-num="422" source-line-num="185">         <span class="tlv_ident_comment">// FIFO2</span></span>
<span class="line" line-num="423" source-line-num="186">         <span class="tlv_ident_comment">//             ( top,  in_pipe, in_stage, out_pipe,  out_stage, depth, trans_hier)</span></span>
<span class="line" line-num="424" source-line-num="187">         <span class="tlv_ident_keyword1">\source ./m4/1c/pipeflow_tlv.m4 550   </span><span class="tlv_ident_comment">// Instantiated from stdin, 187 as: m4+flop_fifo_v2(pipe2, pipe2,      0,     fifo2_out,     0,       4,     &gt;trans)</span></span>
<span class="line" line-num="425" source-line-num="187">            <span class="tlv_ident_comment">//|default</span></span>
<span class="line" line-num="426" source-line-num="187">            <span class="tlv_ident_comment">//   @0</span></span>
<span class="line" line-num="427" source-line-num="187">            <span class="tlv_ident_keyword1">\SV_plus</span></span>
<span class="line" line-num="428" source-line-num="187">               <span class="tlv_ident_hdl_code">localparam bit [</span><span class="tlv_ident_sv_sig">\</span><span class="tlv_ident_hdl_code">$clog2((4)+1)-1:0] full_mark_7 = 4 - 0;</span></span>
<span class="line" line-num="429" source-line-num="187">         </span>
<span class="line" line-num="430" source-line-num="187">            <span class="tlv_ident_comment">// FIFO Instantiation</span></span>
<span class="line" line-num="431" source-line-num="187">         </span>
<span class="line" line-num="432" source-line-num="187">            <span class="tlv_ident_comment">// Hierarchy declarations</span></span>
<span class="line" line-num="433" source-line-num="187">            <span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop&gt;pipe2|pipe2">|pipe2</span></span>
<span class="line" line-num="434" source-line-num="187">               <span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;pipe2|pipe2&gt;entry">&gt;entry</span><span class="tlv_ident_beh_hier_1">[</span><span class="tlv_ident_hdl_code">(4)-1</span><span class="tlv_ident_beh_hier_1">:</span><span class="tlv_ident_hdl_code">0</span><span class="tlv_ident_beh_hier_1">]</span></span>
<span class="line" line-num="435" source-line-num="187">            <span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop&gt;pipe2|fifo2_out">|fifo2_out</span></span>
<span class="line" line-num="436" source-line-num="187">               <span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;pipe2|fifo2_out&gt;entry">&gt;entry</span><span class="tlv_ident_beh_hier_1">[</span><span class="tlv_ident_hdl_code">(4)-1</span><span class="tlv_ident_beh_hier_1">:</span><span class="tlv_ident_hdl_code">0</span><span class="tlv_ident_beh_hier_1">]</span></span>
<span class="line" line-num="437" source-line-num="187">         </span>
<span class="line" line-num="438" source-line-num="187">            <span class="tlv_ident_comment">// Hierarchy</span></span>
<span class="line" line-num="439" source-line-num="187">            <span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop&gt;pipe2|pipe2">|pipe2</span></span>
<span class="line" line-num="440" source-line-num="187">               <span class="tlv_ident_stage_expr" logical_entity="&gt;ring_stop&gt;pipe2|pipe2@0">@0</span></span>
<span class="line" line-num="441" source-line-num="187">                  <span class="tlv_ident_assigned_pipe_sig" logical_entity="&gt;ring_stop&gt;pipe2|pipe2$out_blocked"stage_in_phases="0">$out_blocked</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;pipe2"tlx_ref="">&gt;pipe2</span><span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop&gt;pipe2|fifo2_out"tlx_ref="">|fifo2_out</span><span class="tlv_ident_alignment_expr_1c" logical_entity="&gt;ring_stop&gt;pipe2|fifo2_out@0">%+0</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;pipe2|fifo2_out$blocked"stage_in_phases="0">$blocked</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="442" source-line-num="187">                  <span class="tlv_ident_assigned_pipe_sig" logical_entity="&gt;ring_stop&gt;pipe2|pipe2$blocked"stage_in_phases="0">$blocked</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_alignment_expr_1c" logical_entity="&gt;ring_stop&gt;pipe2|pipe2@2">%+1</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;pipe2|pipe2$full"stage_in_phases="2">$full</span> <span class="tlv_ident_hdl_code">&amp;&amp; </span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;pipe2|pipe2$out_blocked"stage_in_phases="0">$out_blocked</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="443" source-line-num="187">                  <span class="tlv_ident_hdl_code">`BOGUS_USE(</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;pipe2|pipe2$blocked"stage_in_phases="0">$blocked</span><span class="tlv_ident_hdl_code">)   </span><span class="tlv_ident_comment">// Not required to be consumed elsewhere.</span></span>
<span class="line" line-num="444" source-line-num="187">                  <span class="tlv_ident_assigned_pipe_sig" logical_entity="&gt;ring_stop&gt;pipe2|pipe2$would_bypass"stage_in_phases="0">$would_bypass</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_alignment_expr_1c" logical_entity="&gt;ring_stop&gt;pipe2|pipe2@2">%+1</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;pipe2|pipe2$empty"stage_in_phases="2">$empty</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="445" source-line-num="187">                  <span class="tlv_ident_assigned_pipe_sig" logical_entity="&gt;ring_stop&gt;pipe2|pipe2$bypass"stage_in_phases="0">$bypass</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;pipe2|pipe2$would_bypass"stage_in_phases="0">$would_bypass</span> <span class="tlv_ident_hdl_code">&amp;&amp; ! </span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;pipe2|pipe2$out_blocked"stage_in_phases="0">$out_blocked</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="446" source-line-num="187">                  <span class="tlv_ident_assigned_pipe_sig" logical_entity="&gt;ring_stop&gt;pipe2|pipe2$push"stage_in_phases="0">$push</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;pipe2|pipe2$trans_valid"stage_in_phases="0">$trans_valid</span> <span class="tlv_ident_hdl_code">&amp;&amp; ! </span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;pipe2|pipe2$bypass"stage_in_phases="0">$bypass</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="447" source-line-num="187">                  <span class="tlv_ident_assigned_pipe_sig" logical_entity="&gt;ring_stop&gt;pipe2|pipe2$grow"stage_in_phases="0">$grow</span>   <span class="tlv_ident_hdl_code">=   </span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;pipe2|pipe2$trans_valid"stage_in_phases="0">$trans_valid</span> <span class="tlv_ident_hdl_code">&amp;&amp;   </span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;pipe2|pipe2$out_blocked"stage_in_phases="0">$out_blocked</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="448" source-line-num="187">                  <span class="tlv_ident_assigned_pipe_sig" logical_entity="&gt;ring_stop&gt;pipe2|pipe2$shrink"stage_in_phases="0">$shrink</span> <span class="tlv_ident_hdl_code">= ! </span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;pipe2|pipe2$trans_avail"stage_in_phases="0">$trans_avail</span> <span class="tlv_ident_hdl_code">&amp;&amp; ! </span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;pipe2|pipe2$out_blocked"stage_in_phases="0">$out_blocked</span> <span class="tlv_ident_hdl_code">&amp;&amp; ! </span><span class="tlv_ident_alignment_expr_1c" logical_entity="&gt;ring_stop&gt;pipe2|pipe2@2">%+1</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;pipe2|pipe2$empty"stage_in_phases="2">$empty</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="449" source-line-num="187">                  <span class="tlv_ident_assigned_pipe_sig" logical_entity="&gt;ring_stop&gt;pipe2|pipe2$valid_count"stage_in_phases="0">$valid_count</span><span class="tlv_ident_pipe_sig">[</span><span class="tlv_ident_sv_sig">\</span><span class="tlv_ident_hdl_code">$clog2((4)+1)-1</span><span class="tlv_ident_pipe_sig">:</span><span class="tlv_ident_hdl_code">0</span><span class="tlv_ident_pipe_sig">] </span><span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;pipe2|pipe2$reset"stage_in_phases="0">$reset</span> <span class="tlv_ident_hdl_code">? '0</span></span>
<span class="line" line-num="450" source-line-num="187">                                                              <span class="tlv_ident_hdl_code">: </span><span class="tlv_ident_alignment_expr_1c" logical_entity="&gt;ring_stop&gt;pipe2|pipe2@2">%+1</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;pipe2|pipe2$valid_count"stage_in_phases="2">$valid_count</span> <span class="tlv_ident_hdl_code">+ (</span></span>
<span class="line" line-num="451" source-line-num="187">                                                                   <span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;pipe2|pipe2$grow"stage_in_phases="0">$grow</span>   <span class="tlv_ident_hdl_code">? { {(</span><span class="tlv_ident_sv_sig">\</span><span class="tlv_ident_hdl_code">$clog2((4)+1)-1){1'b0}}, 1'b1} :</span></span>
<span class="line" line-num="452" source-line-num="187">                                                                   <span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;pipe2|pipe2$shrink"stage_in_phases="0">$shrink</span> <span class="tlv_ident_hdl_code">? '1</span></span>
<span class="line" line-num="453" source-line-num="187">                                                                           <span class="tlv_ident_hdl_code">: '0</span></span>
<span class="line" line-num="454" source-line-num="187">                                                                <span class="tlv_ident_hdl_code">);</span></span>
<span class="line" line-num="455" source-line-num="187">                  <span class="tlv_ident_comment">// At least 2 valid entries.</span></span>
<span class="line" line-num="456" source-line-num="187">                  <span class="tlv_ident_comment">//$two_valid = | $ValidCount[m4_counter_width-1:1];</span></span>
<span class="line" line-num="457" source-line-num="187">                  <span class="tlv_ident_comment">// but logic depth minimized by taking advantage of prev count &gt;= 4.</span></span>
<span class="line" line-num="458" source-line-num="187">                  <span class="tlv_ident_assigned_pipe_sig" logical_entity="&gt;ring_stop&gt;pipe2|pipe2$two_valid"stage_in_phases="0">$two_valid</span> <span class="tlv_ident_hdl_code">= | </span><span class="tlv_ident_alignment_expr_1c" logical_entity="&gt;ring_stop&gt;pipe2|pipe2@2">%+1</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;pipe2|pipe2$valid_count"stage_in_phases="2">$valid_count</span><span class="tlv_ident_pipe_sig">[</span><span class="tlv_ident_sv_sig">\</span><span class="tlv_ident_hdl_code">$clog2((4)+1)-1</span><span class="tlv_ident_pipe_sig">:</span><span class="tlv_ident_hdl_code">2</span><span class="tlv_ident_pipe_sig">] </span><span class="tlv_ident_hdl_code">|| | </span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;pipe2|pipe2$valid_count"stage_in_phases="0">$valid_count</span><span class="tlv_ident_pipe_sig">[</span><span class="tlv_ident_hdl_code">2</span><span class="tlv_ident_pipe_sig">:</span><span class="tlv_ident_hdl_code">1</span><span class="tlv_ident_pipe_sig">]</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="459" source-line-num="187">                  <span class="tlv_ident_comment">// These are an optimization of the commented block below to operate on vectors, rather than bits.</span></span>
<span class="line" line-num="460" source-line-num="187">                  <span class="tlv_ident_comment">// TODO: Keep optimizing...</span></span>
<span class="line" line-num="461" source-line-num="187">                  <span class="tlv_ident_hdl_code">{</span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;pipe2|pipe2&gt;entry"tlx_ref="">&gt;entry</span><span class="tlv_ident_beh_hier_1">[</span><span class="tlv_ident_hdl_code">*</span><span class="tlv_ident_beh_hier_1">]</span><span class="tlv_ident_assigned_pipe_sig" logical_entity="&gt;ring_stop&gt;pipe2|pipe2&gt;entry$prev_entry_was_tail"stage_in_phases="0">$$prev_entry_was_tail</span><span class="tlv_ident_hdl_code">} = {</span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;pipe2|pipe2&gt;entry"tlx_ref="">&gt;entry</span><span class="tlv_ident_beh_hier_1">[</span><span class="tlv_ident_hdl_code">*</span><span class="tlv_ident_beh_hier_1">]</span><span class="tlv_ident_alignment_expr_1c" logical_entity="&gt;ring_stop&gt;pipe2|pipe2@2">%+1</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;pipe2|pipe2&gt;entry$reconstructed_is_tail"stage_in_phases="2">$reconstructed_is_tail</span><span class="tlv_ident_sv_sig">\</span><span class="tlv_ident_hdl_code">[2:0], </span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;pipe2|pipe2&gt;entry"tlx_ref="">&gt;entry</span><span class="tlv_ident_beh_hier_1">[</span><span class="tlv_ident_hdl_code">3</span><span class="tlv_ident_beh_hier_1">]</span><span class="tlv_ident_alignment_expr_1c" logical_entity="&gt;ring_stop&gt;pipe2|pipe2@2">%+1</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;pipe2|pipe2&gt;entry$reconstructed_is_tail"stage_in_phases="2">$reconstructed_is_tail</span><span class="tlv_ident_hdl_code">} </span><span class="tlv_ident_comment">/* circular &lt;&lt; */</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="462" source-line-num="187">                  <span class="tlv_ident_hdl_code">{</span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;pipe2|pipe2&gt;entry"tlx_ref="">&gt;entry</span><span class="tlv_ident_beh_hier_1">[</span><span class="tlv_ident_hdl_code">*</span><span class="tlv_ident_beh_hier_1">]</span><span class="tlv_ident_assigned_pipe_sig" logical_entity="&gt;ring_stop&gt;pipe2|pipe2&gt;entry$push"stage_in_phases="0">$$push</span><span class="tlv_ident_hdl_code">} = {4{</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;pipe2|pipe2$push"stage_in_phases="0">$push</span><span class="tlv_ident_hdl_code">}} &amp; </span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;pipe2|pipe2&gt;entry"tlx_ref="">&gt;entry</span><span class="tlv_ident_beh_hier_1">[</span><span class="tlv_ident_hdl_code">*</span><span class="tlv_ident_beh_hier_1">]</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;pipe2|pipe2&gt;entry$prev_entry_was_tail"stage_in_phases="0">$prev_entry_was_tail</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="463" source-line-num="187">                  <span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;pipe2|pipe2&gt;entry">&gt;entry</span><span class="tlv_ident_beh_hier_1">[</span><span class="tlv_ident_hdl_code">*</span><span class="tlv_ident_beh_hier_1">]</span></span>
<span class="line" line-num="464" source-line-num="187">                     <span class="tlv_ident_comment">// Replaced with optimized versions above:</span></span>
<span class="line" line-num="465" source-line-num="187">                     <span class="tlv_ident_comment">// $prev_entry_was_tail = &gt;entry[(entry+(m4_depth)-1)%(m4_depth)]%+1$reconstructed_is_tail;</span></span>
<span class="line" line-num="466" source-line-num="187">                     <span class="tlv_ident_comment">// $push = |m4_in_pipe$push &amp;&amp; $prev_entry_was_tail;</span></span>
<span class="line" line-num="467" source-line-num="187">                     <span class="tlv_ident_assigned_pipe_sig" logical_entity="&gt;ring_stop&gt;pipe2|pipe2&gt;entry$valid"stage_in_phases="0">$valid</span> <span class="tlv_ident_hdl_code">= (</span><span class="tlv_ident_alignment_expr_1c" logical_entity="&gt;ring_stop&gt;pipe2|pipe2@2">%+1</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;pipe2|pipe2&gt;entry$reconstructed_valid"stage_in_phases="2">$reconstructed_valid</span> <span class="tlv_ident_hdl_code">&amp;&amp; ! </span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;pipe2"tlx_ref="">&gt;pipe2</span><span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop&gt;pipe2|fifo2_out"tlx_ref="">|fifo2_out</span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;pipe2|fifo2_out&gt;entry"tlx_ref="">&gt;entry</span><span class="tlv_ident_alignment_expr_1c" logical_entity="&gt;ring_stop&gt;pipe2|fifo2_out@0">%+0</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;pipe2|fifo2_out&gt;entry$pop"stage_in_phases="0">$pop</span><span class="tlv_ident_hdl_code">) || </span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;pipe2|pipe2&gt;entry$push"stage_in_phases="0">$push</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="468" source-line-num="187">                     <span class="tlv_ident_assigned_pipe_sig" logical_entity="&gt;ring_stop&gt;pipe2|pipe2&gt;entry$is_tail"stage_in_phases="0">$is_tail</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop&gt;pipe2|pipe2"tlx_ref="">|pipe2</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;pipe2|pipe2$trans_valid"stage_in_phases="0">$trans_valid</span> <span class="tlv_ident_hdl_code">? </span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;pipe2|pipe2&gt;entry$prev_entry_was_tail"stage_in_phases="0">$prev_entry_was_tail</span>  <span class="tlv_ident_comment">// shift tail</span></span>
<span class="line" line-num="469" source-line-num="187">                                                        <span class="tlv_ident_hdl_code">: </span><span class="tlv_ident_alignment_expr_1c" logical_entity="&gt;ring_stop&gt;pipe2|pipe2@2">%+1</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;pipe2|pipe2&gt;entry$reconstructed_is_tail"stage_in_phases="2">$reconstructed_is_tail</span><span class="tlv_ident_hdl_code">;  </span><span class="tlv_ident_comment">// retain tail</span></span>
<span class="line" line-num="470" source-line-num="187">                     <span class="tlv_ident_assigned_pipe_sig" logical_entity="&gt;ring_stop&gt;pipe2|pipe2&gt;entry$state"stage_in_phases="0">$state</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop&gt;pipe2|pipe2"tlx_ref="">|pipe2</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;pipe2|pipe2$reset"stage_in_phases="0">$reset</span> <span class="tlv_ident_hdl_code">? 1'b0</span></span>
<span class="line" line-num="471" source-line-num="187">                                                <span class="tlv_ident_hdl_code">: </span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;pipe2|pipe2&gt;entry$valid"stage_in_phases="0">$valid</span> <span class="tlv_ident_hdl_code">&amp;&amp; ! (</span><span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop&gt;pipe2|pipe2"tlx_ref="">|pipe2</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;pipe2|pipe2$two_valid"stage_in_phases="0">$two_valid</span> <span class="tlv_ident_hdl_code">&amp;&amp; </span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;pipe2|pipe2&gt;entry$is_tail"stage_in_phases="0">$is_tail</span><span class="tlv_ident_hdl_code">);</span></span>
<span class="line" line-num="472" source-line-num="187">               <span class="tlv_ident_stage_expr" logical_entity="&gt;ring_stop&gt;pipe2|pipe2@2">@1</span></span>
<span class="line" line-num="473" source-line-num="187">                  <span class="tlv_ident_assigned_pipe_sig" logical_entity="&gt;ring_stop&gt;pipe2|pipe2$empty"stage_in_phases="2">$empty</span> <span class="tlv_ident_hdl_code">= ! </span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;pipe2|pipe2$two_valid"stage_in_phases="2">$two_valid</span> <span class="tlv_ident_hdl_code">&amp;&amp; ! </span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;pipe2|pipe2$valid_count"stage_in_phases="2">$valid_count</span><span class="tlv_ident_pipe_sig">[</span><span class="tlv_ident_hdl_code">0</span><span class="tlv_ident_pipe_sig">]</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="474" source-line-num="187">                  <span class="tlv_ident_assigned_pipe_sig" logical_entity="&gt;ring_stop&gt;pipe2|pipe2$full"stage_in_phases="2">$full</span> <span class="tlv_ident_hdl_code">= (</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;pipe2|pipe2$valid_count"stage_in_phases="2">$valid_count</span> <span class="tlv_ident_hdl_code">== full_mark_7);  </span><span class="tlv_ident_comment">// Could optimize for power-of-two depth.</span></span>
<span class="line" line-num="475" source-line-num="187">               <span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;pipe2|pipe2&gt;entry">&gt;entry</span><span class="tlv_ident_beh_hier_1">[</span><span class="tlv_ident_hdl_code">*</span><span class="tlv_ident_beh_hier_1">]</span></span>
<span class="line" line-num="476" source-line-num="187">                  <span class="tlv_ident_stage_expr" logical_entity="&gt;ring_stop&gt;pipe2|pipe2@2">@1</span></span>
<span class="line" line-num="477" source-line-num="187">                     <span class="tlv_ident_assigned_pipe_sig" logical_entity="&gt;ring_stop&gt;pipe2|pipe2&gt;entry$prev_entry_state"stage_in_phases="2">$prev_entry_state</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;pipe2|pipe2&gt;entry"tlx_ref="">&gt;entry</span><span class="tlv_ident_beh_hier_1">[</span><span class="tlv_ident_hdl_code">(entry+(4)-1)%(4)</span><span class="tlv_ident_beh_hier_1">]</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;pipe2|pipe2&gt;entry$state"stage_in_phases="2">$state</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="478" source-line-num="187">                     <span class="tlv_ident_assigned_pipe_sig" logical_entity="&gt;ring_stop&gt;pipe2|pipe2&gt;entry$next_entry_state"stage_in_phases="2">$next_entry_state</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;pipe2|pipe2&gt;entry"tlx_ref="">&gt;entry</span><span class="tlv_ident_beh_hier_1">[</span><span class="tlv_ident_hdl_code">(entry+1)%(4)</span><span class="tlv_ident_beh_hier_1">]</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;pipe2|pipe2&gt;entry$state"stage_in_phases="2">$state</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="479" source-line-num="187">                     <span class="tlv_ident_assigned_pipe_sig" logical_entity="&gt;ring_stop&gt;pipe2|pipe2&gt;entry$reconstructed_is_tail"stage_in_phases="2">$reconstructed_is_tail</span> <span class="tlv_ident_hdl_code">= (  </span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;pipe2"tlx_ref="">&gt;pipe2</span><span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop&gt;pipe2|pipe2"tlx_ref="">|pipe2</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;pipe2|pipe2$two_valid"stage_in_phases="2">$two_valid</span> <span class="tlv_ident_hdl_code">&amp;&amp; (!</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;pipe2|pipe2&gt;entry$state"stage_in_phases="2">$state</span> <span class="tlv_ident_hdl_code">&amp;&amp; </span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;pipe2|pipe2&gt;entry$prev_entry_state"stage_in_phases="2">$prev_entry_state</span><span class="tlv_ident_hdl_code">)) ||</span></span>
<span class="line" line-num="480" source-line-num="187">                                              <span class="tlv_ident_hdl_code">(! </span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;pipe2"tlx_ref="">&gt;pipe2</span><span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop&gt;pipe2|pipe2"tlx_ref="">|pipe2</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;pipe2|pipe2$two_valid"stage_in_phases="2">$two_valid</span> <span class="tlv_ident_hdl_code">&amp;&amp; (!</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;pipe2|pipe2&gt;entry$next_entry_state"stage_in_phases="2">$next_entry_state</span> <span class="tlv_ident_hdl_code">&amp;&amp; </span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;pipe2|pipe2&gt;entry$state"stage_in_phases="2">$state</span><span class="tlv_ident_hdl_code">)) ||</span></span>
<span class="line" line-num="481" source-line-num="187">                                              <span class="tlv_ident_hdl_code">(</span><span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop&gt;pipe2|pipe2"tlx_ref="">|pipe2</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;pipe2|pipe2$empty"stage_in_phases="2">$empty</span> <span class="tlv_ident_hdl_code">&amp;&amp; (entry == 0));  </span><span class="tlv_ident_comment">// need a tail when empty for push</span></span>
<span class="line" line-num="482" source-line-num="187">                     <span class="tlv_ident_assigned_pipe_sig" logical_entity="&gt;ring_stop&gt;pipe2|pipe2&gt;entry$is_head"stage_in_phases="2">$is_head</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;pipe2|pipe2&gt;entry$state"stage_in_phases="2">$state</span> <span class="tlv_ident_hdl_code">&amp;&amp; ! </span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;pipe2|pipe2&gt;entry$prev_entry_state"stage_in_phases="2">$prev_entry_state</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="483" source-line-num="187">                     <span class="tlv_ident_assigned_pipe_sig" logical_entity="&gt;ring_stop&gt;pipe2|pipe2&gt;entry$reconstructed_valid"stage_in_phases="2">$reconstructed_valid</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;pipe2|pipe2&gt;entry$state"stage_in_phases="2">$state</span> <span class="tlv_ident_hdl_code">|| (</span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;pipe2"tlx_ref="">&gt;pipe2</span><span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop&gt;pipe2|pipe2"tlx_ref="">|pipe2</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;pipe2|pipe2$two_valid"stage_in_phases="2">$two_valid</span> <span class="tlv_ident_hdl_code">&amp;&amp; </span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;pipe2|pipe2&gt;entry$prev_entry_state"stage_in_phases="2">$prev_entry_state</span><span class="tlv_ident_hdl_code">);</span></span>
<span class="line" line-num="484" source-line-num="187">            <span class="tlv_ident_comment">// Write data</span></span>
<span class="line" line-num="485" source-line-num="187">            <span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop&gt;pipe2|pipe2">|pipe2</span></span>
<span class="line" line-num="486" source-line-num="187">               <span class="tlv_ident_stage_expr" logical_entity="&gt;ring_stop&gt;pipe2|pipe2@0">@0</span></span>
<span class="line" line-num="487" source-line-num="187">                  <span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;pipe2|pipe2&gt;entry">&gt;entry</span><span class="tlv_ident_beh_hier_1">[</span><span class="tlv_ident_hdl_code">*</span><span class="tlv_ident_beh_hier_1">]</span></span>
<span class="line" line-num="488" source-line-num="187">                     <span class="tlv_ident_comment">//?$push</span></span>
<span class="line" line-num="489" source-line-num="187">                     <span class="tlv_ident_comment">//   $aNY = |m4_in_pipe['']m4_trans_hier$ANY;</span></span>
<span class="line" line-num="490" source-line-num="187">                     <span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;pipe2|pipe2&gt;entry&gt;trans">&gt;trans</span></span>
<span class="line" line-num="491" source-line-num="187">                        <span class="tlv_ident_assigned_sig_keyword" logical_entity="&gt;ring_stop&gt;pipe2|pipe2&gt;entry&gt;trans$ANY"stage_in_phases="0">$ANY</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;pipe2|pipe2&gt;entry"tlx_ref="">&gt;entry</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;pipe2|pipe2&gt;entry$push"stage_in_phases="0">$push</span> <span class="tlv_ident_hdl_code">? </span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;pipe2"tlx_ref="">&gt;pipe2</span><span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop&gt;pipe2|pipe2"tlx_ref="">|pipe2</span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;pipe2|pipe2&gt;trans"tlx_ref="">&gt;trans</span><span class="tlv_ident_sig_keyword" logical_entity="&gt;ring_stop&gt;pipe2|pipe2&gt;trans$ANY"stage_in_phases="0">$ANY</span> <span class="tlv_ident_hdl_code">: </span><span class="tlv_ident_alignment_expr_1c" logical_entity="&gt;ring_stop&gt;pipe2|pipe2@2">%+1</span><span class="tlv_ident_sig_keyword" logical_entity="&gt;ring_stop&gt;pipe2|pipe2&gt;entry&gt;trans$ANY"stage_in_phases="2">$ANY</span> <span class="tlv_ident_comment">/* RETAIN */</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="492" source-line-num="187">            <span class="tlv_ident_comment">// Read data</span></span>
<span class="line" line-num="493" source-line-num="187">            <span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop&gt;pipe2|fifo2_out">|fifo2_out</span></span>
<span class="line" line-num="494" source-line-num="187">               <span class="tlv_ident_stage_expr" logical_entity="&gt;ring_stop&gt;pipe2|fifo2_out@0">@0</span></span>
<span class="line" line-num="495" source-line-num="187">                  <span class="tlv_ident_comment">//$pop  = ! &gt;m4_top|m4_in_pipe%m4_align(m4_in_at + 1, m4_out_at)$empty &amp;&amp; ! $blocked;</span></span>
<span class="line" line-num="496" source-line-num="187">                  <span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;pipe2|fifo2_out&gt;entry">&gt;entry</span><span class="tlv_ident_beh_hier_1">[</span><span class="tlv_ident_hdl_code">*</span><span class="tlv_ident_beh_hier_1">]</span></span>
<span class="line" line-num="497" source-line-num="187">                     <span class="tlv_ident_assigned_pipe_sig" logical_entity="&gt;ring_stop&gt;pipe2|fifo2_out&gt;entry$is_head"stage_in_phases="0">$is_head</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;pipe2"tlx_ref="">&gt;pipe2</span><span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop&gt;pipe2|pipe2"tlx_ref="">|pipe2</span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;pipe2|pipe2&gt;entry"tlx_ref="">&gt;entry</span><span class="tlv_ident_alignment_expr_1c" logical_entity="&gt;ring_stop&gt;pipe2|pipe2@2">%+1</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;pipe2|pipe2&gt;entry$is_head"stage_in_phases="2">$is_head</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="498" source-line-num="187">                     <span class="tlv_ident_assigned_pipe_sig" logical_entity="&gt;ring_stop&gt;pipe2|fifo2_out&gt;entry$pop"stage_in_phases="0">$pop</span>  <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;pipe2|fifo2_out&gt;entry$is_head"stage_in_phases="0">$is_head</span> <span class="tlv_ident_hdl_code">&amp;&amp; ! </span><span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop&gt;pipe2|fifo2_out"tlx_ref="">|fifo2_out</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;pipe2|fifo2_out$blocked"stage_in_phases="0">$blocked</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="499" source-line-num="187">                     <span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;pipe2|fifo2_out&gt;entry&gt;read_masked">&gt;read_masked</span></span>
<span class="line" line-num="500" source-line-num="187">                        <span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;pipe2|fifo2_out&gt;entry&gt;read_masked&gt;trans">&gt;trans</span></span>
<span class="line" line-num="501" source-line-num="187">                           <span class="tlv_ident_assigned_sig_keyword" logical_entity="&gt;ring_stop&gt;pipe2|fifo2_out&gt;entry&gt;read_masked&gt;trans$ANY"stage_in_phases="0">$ANY</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;pipe2|fifo2_out&gt;entry"tlx_ref="">&gt;entry</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;pipe2|fifo2_out&gt;entry$is_head"stage_in_phases="0">$is_head</span> <span class="tlv_ident_hdl_code">? </span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;pipe2"tlx_ref="">&gt;pipe2</span><span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop&gt;pipe2|pipe2"tlx_ref="">|pipe2</span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;pipe2|pipe2&gt;entry"tlx_ref="">&gt;entry</span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;pipe2|pipe2&gt;entry&gt;trans"tlx_ref="">&gt;trans</span><span class="tlv_ident_alignment_expr_1c" logical_entity="&gt;ring_stop&gt;pipe2|pipe2@2">%+1</span><span class="tlv_ident_sig_keyword" logical_entity="&gt;ring_stop&gt;pipe2|pipe2&gt;entry&gt;trans$ANY"stage_in_phases="2">$ANY</span> <span class="tlv_ident_comment">/* $aNY */ </span><span class="tlv_ident_hdl_code">: '0;</span></span>
<span class="line" line-num="502" source-line-num="187">                     <span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;pipe2|fifo2_out&gt;entry&gt;accum">&gt;accum</span></span>
<span class="line" line-num="503" source-line-num="187">                        <span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;pipe2|fifo2_out&gt;entry&gt;accum&gt;trans">&gt;trans</span></span>
<span class="line" line-num="504" source-line-num="187">                           <span class="tlv_ident_assigned_sig_keyword" logical_entity="&gt;ring_stop&gt;pipe2|fifo2_out&gt;entry&gt;accum&gt;trans$ANY"stage_in_phases="0">$ANY</span> <span class="tlv_ident_hdl_code">= ((entry == 0) ? '0 : </span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;pipe2|fifo2_out&gt;entry"tlx_ref="">&gt;entry</span><span class="tlv_ident_beh_hier_1">[</span><span class="tlv_ident_hdl_code">(entry+(4)-1)%(4)</span><span class="tlv_ident_beh_hier_1">]</span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;pipe2|fifo2_out&gt;entry&gt;accum"tlx_ref="">&gt;accum</span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;pipe2|fifo2_out&gt;entry&gt;accum&gt;trans"tlx_ref="">&gt;trans</span><span class="tlv_ident_sig_keyword" logical_entity="&gt;ring_stop&gt;pipe2|fifo2_out&gt;entry&gt;accum&gt;trans$ANY"stage_in_phases="0">$ANY</span><span class="tlv_ident_hdl_code">) |</span></span>
<span class="line" line-num="505" source-line-num="187">                                  <span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;pipe2|fifo2_out&gt;entry"tlx_ref="">&gt;entry</span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;pipe2|fifo2_out&gt;entry&gt;read_masked"tlx_ref="">&gt;read_masked</span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;pipe2|fifo2_out&gt;entry&gt;read_masked&gt;trans"tlx_ref="">&gt;trans</span><span class="tlv_ident_sig_keyword" logical_entity="&gt;ring_stop&gt;pipe2|fifo2_out&gt;entry&gt;read_masked&gt;trans$ANY"stage_in_phases="0">$ANY</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="506" source-line-num="187">                  <span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;pipe2|fifo2_out&gt;head">&gt;head</span></span>
<span class="line" line-num="507" source-line-num="187">                     <span class="tlv_ident_assigned_pipe_sig" logical_entity="&gt;ring_stop&gt;pipe2|fifo2_out&gt;head$trans_avail"stage_in_phases="0">$trans_avail</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop&gt;pipe2|fifo2_out"tlx_ref="">|fifo2_out</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;pipe2|fifo2_out$trans_avail"stage_in_phases="0">$trans_avail</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="508" source-line-num="187">                     <span class="tlv_ident_when">?$trans_avail</span></span>
<span class="line" line-num="509" source-line-num="187">                        <span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;pipe2|fifo2_out&gt;head&gt;trans">&gt;trans</span></span>
<span class="line" line-num="510" source-line-num="187">                           <span class="tlv_ident_assigned_sig_keyword" logical_entity="&gt;ring_stop&gt;pipe2|fifo2_out&gt;head&gt;trans$ANY"stage_in_phases="0">$ANY</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;pipe2"tlx_ref="">&gt;pipe2</span><span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop&gt;pipe2|fifo2_out"tlx_ref="">|fifo2_out</span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;pipe2|fifo2_out&gt;entry"tlx_ref="">&gt;entry</span><span class="tlv_ident_beh_hier_1">[</span><span class="tlv_ident_hdl_code">(4)-1</span><span class="tlv_ident_beh_hier_1">]</span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;pipe2|fifo2_out&gt;entry&gt;accum"tlx_ref="">&gt;accum</span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;pipe2|fifo2_out&gt;entry&gt;accum&gt;trans"tlx_ref="">&gt;trans</span><span class="tlv_ident_sig_keyword" logical_entity="&gt;ring_stop&gt;pipe2|fifo2_out&gt;entry&gt;accum&gt;trans$ANY"stage_in_phases="0">$ANY</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="511" source-line-num="187">         </span>
<span class="line" line-num="512" source-line-num="187">            <span class="tlv_ident_comment">// Bypass</span></span>
<span class="line" line-num="513" source-line-num="187">            <span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop&gt;pipe2|fifo2_out">|fifo2_out</span></span>
<span class="line" line-num="514" source-line-num="187">               <span class="tlv_ident_stage_expr" logical_entity="&gt;ring_stop&gt;pipe2|fifo2_out@0">@0</span></span>
<span class="line" line-num="515" source-line-num="187">                  <span class="tlv_ident_comment">// Available output.  Sometimes it's necessary to know what would be coming to determined</span></span>
<span class="line" line-num="516" source-line-num="187">                  <span class="tlv_ident_comment">// if it's blocked.  This can be used externally in that case.</span></span>
<span class="line" line-num="517" source-line-num="187">                  <span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;pipe2|fifo2_out&gt;fifo_head">&gt;fifo_head</span></span>
<span class="line" line-num="518" source-line-num="187">                     <span class="tlv_ident_assigned_pipe_sig" logical_entity="&gt;ring_stop&gt;pipe2|fifo2_out&gt;fifo_head$trans_avail"stage_in_phases="0">$trans_avail</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop&gt;pipe2|fifo2_out"tlx_ref="">|fifo2_out</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;pipe2|fifo2_out$trans_avail"stage_in_phases="0">$trans_avail</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="519" source-line-num="187">                     <span class="tlv_ident_when">?$trans_avail</span></span>
<span class="line" line-num="520" source-line-num="187">                        <span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;pipe2|fifo2_out&gt;fifo_head&gt;trans">&gt;trans</span></span>
<span class="line" line-num="521" source-line-num="187">                           <span class="tlv_ident_assigned_sig_keyword" logical_entity="&gt;ring_stop&gt;pipe2|fifo2_out&gt;fifo_head&gt;trans$ANY"stage_in_phases="0">$ANY</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;pipe2"tlx_ref="">&gt;pipe2</span><span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop&gt;pipe2|pipe2"tlx_ref="">|pipe2</span><span class="tlv_ident_alignment_expr_1c" logical_entity="&gt;ring_stop&gt;pipe2|pipe2@0">%+0</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;pipe2|pipe2$would_bypass"stage_in_phases="0">$would_bypass</span></span>
<span class="line" line-num="522" source-line-num="187">                                        <span class="tlv_ident_hdl_code">? </span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;pipe2"tlx_ref="">&gt;pipe2</span><span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop&gt;pipe2|pipe2"tlx_ref="">|pipe2</span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;pipe2|pipe2&gt;trans"tlx_ref="">&gt;trans</span><span class="tlv_ident_alignment_expr_1c" logical_entity="&gt;ring_stop&gt;pipe2|pipe2@0">%+0</span><span class="tlv_ident_sig_keyword" logical_entity="&gt;ring_stop&gt;pipe2|pipe2&gt;trans$ANY"stage_in_phases="0">$ANY</span></span>
<span class="line" line-num="523" source-line-num="187">                                        <span class="tlv_ident_hdl_code">: </span><span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop&gt;pipe2|fifo2_out"tlx_ref="">|fifo2_out</span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;pipe2|fifo2_out&gt;head"tlx_ref="">&gt;head</span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;pipe2|fifo2_out&gt;head&gt;trans"tlx_ref="">&gt;trans</span><span class="tlv_ident_sig_keyword" logical_entity="&gt;ring_stop&gt;pipe2|fifo2_out&gt;head&gt;trans$ANY"stage_in_phases="0">$ANY</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="524" source-line-num="187">                  <span class="tlv_ident_assigned_pipe_sig" logical_entity="&gt;ring_stop&gt;pipe2|fifo2_out$trans_avail"stage_in_phases="0">$trans_avail</span> <span class="tlv_ident_hdl_code">= ! </span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;pipe2"tlx_ref="">&gt;pipe2</span><span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop&gt;pipe2|pipe2"tlx_ref="">|pipe2</span><span class="tlv_ident_alignment_expr_1c" logical_entity="&gt;ring_stop&gt;pipe2|pipe2@0">%+0</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;pipe2|pipe2$would_bypass"stage_in_phases="0">$would_bypass</span> <span class="tlv_ident_hdl_code">|| </span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;pipe2"tlx_ref="">&gt;pipe2</span><span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop&gt;pipe2|pipe2"tlx_ref="">|pipe2</span><span class="tlv_ident_alignment_expr_1c" logical_entity="&gt;ring_stop&gt;pipe2|pipe2@0">%+0</span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;pipe2|pipe2$trans_avail"stage_in_phases="0">$trans_avail</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="525" source-line-num="187">                  <span class="tlv_ident_assigned_pipe_sig" logical_entity="&gt;ring_stop&gt;pipe2|fifo2_out$trans_valid"stage_in_phases="0">$trans_valid</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;pipe2|fifo2_out$trans_avail"stage_in_phases="0">$trans_avail</span> <span class="tlv_ident_hdl_code">&amp;&amp; ! </span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;pipe2|fifo2_out$blocked"stage_in_phases="0">$blocked</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="526" source-line-num="187">                  <span class="tlv_ident_when">?$trans_valid</span></span>
<span class="line" line-num="527" source-line-num="187">                     <span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;pipe2|fifo2_out&gt;trans">&gt;trans</span></span>
<span class="line" line-num="528" source-line-num="187">                        <span class="tlv_ident_assigned_sig_keyword" logical_entity="&gt;ring_stop&gt;pipe2|fifo2_out&gt;trans$ANY"stage_in_phases="0">$ANY</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop&gt;pipe2|fifo2_out"tlx_ref="">|fifo2_out</span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;pipe2|fifo2_out&gt;fifo_head"tlx_ref="">&gt;fifo_head</span><span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;pipe2|fifo2_out&gt;fifo_head&gt;trans"tlx_ref="">&gt;trans</span><span class="tlv_ident_sig_keyword" logical_entity="&gt;ring_stop&gt;pipe2|fifo2_out&gt;fifo_head&gt;trans$ANY"stage_in_phases="0">$ANY</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="529" source-line-num="187">         </span>
<span class="line" line-num="530" source-line-num="187">         </span>
<span class="line" line-num="531" source-line-num="187">         </span>
<span class="line" line-num="532" source-line-num="187">            <span class="tlv_ident_comment">/* Alternate code for pointer indexing.  Replaces $ANY expression above.</span></span>
<span class="line" line-num="533" source-line-num="187">         </span>
<span class="line" line-num="534" source-line-num="187">            <span class="tlv_ident_comment">// Hierarchy</span></span>
<span class="line" line-num="535" source-line-num="187">            <span class="tlv_ident_comment">|pipe2</span></span>
<span class="line" line-num="536" source-line-num="187">               <span class="tlv_ident_comment">&gt;entry2[(4)-1:0]</span></span>
<span class="line" line-num="537" source-line-num="187">         </span>
<span class="line" line-num="538" source-line-num="187">            <span class="tlv_ident_comment">// Head/Tail ptrs.</span></span>
<span class="line" line-num="539" source-line-num="187">            <span class="tlv_ident_comment">|pipe2</span></span>
<span class="line" line-num="540" source-line-num="187">               <span class="tlv_ident_comment">@0</span></span>
<span class="line" line-num="541" source-line-num="187">                  <span class="tlv_ident_comment">%next$WrPtr[\$clog2(4)-1:0] =</span></span>
<span class="line" line-num="542" source-line-num="187">                      <span class="tlv_ident_comment">$reset       ? '0 :</span></span>
<span class="line" line-num="543" source-line-num="187">                      <span class="tlv_ident_comment">$trans_valid ? ($WrPtr == (4 - 1))</span></span>
<span class="line" line-num="544" source-line-num="187">                                       <span class="tlv_ident_comment">? '0</span></span>
<span class="line" line-num="545" source-line-num="187">                                       <span class="tlv_ident_comment">: $WrPtr + {{(\$clog2(4)-1){1'b0}}, 1'b1} :</span></span>
<span class="line" line-num="546" source-line-num="187">                                     <span class="tlv_ident_comment">$RETAIN;</span></span>
<span class="line" line-num="547" source-line-num="187">            <span class="tlv_ident_comment">|fifo2_out</span></span>
<span class="line" line-num="548" source-line-num="187">               <span class="tlv_ident_comment">@0</span></span>
<span class="line" line-num="549" source-line-num="187">                  <span class="tlv_ident_comment">%next$RdPtr[\$clog2(4)-1:0] =</span></span>
<span class="line" line-num="550" source-line-num="187">                      <span class="tlv_ident_comment">&gt;pipe2|pipe2%+0$reset</span></span>
<span class="line" line-num="551" source-line-num="187">                                   <span class="tlv_ident_comment">? '0 :</span></span>
<span class="line" line-num="552" source-line-num="187">                      <span class="tlv_ident_comment">$trans_valid ? ($RdPtr == (4 - 1))</span></span>
<span class="line" line-num="553" source-line-num="187">                                       <span class="tlv_ident_comment">? '0</span></span>
<span class="line" line-num="554" source-line-num="187">                                       <span class="tlv_ident_comment">: $RdPtr + {{(\$clog2(4)-1){1'b0}}, 1'b1} :</span></span>
<span class="line" line-num="555" source-line-num="187">                                     <span class="tlv_ident_comment">$RETAIN;</span></span>
<span class="line" line-num="556" source-line-num="187">            <span class="tlv_ident_comment">// Write FIFO</span></span>
<span class="line" line-num="557" source-line-num="187">            <span class="tlv_ident_comment">|pipe2</span></span>
<span class="line" line-num="558" source-line-num="187">               <span class="tlv_ident_comment">@0</span></span>
<span class="line" line-num="559" source-line-num="187">                  <span class="tlv_ident_comment">$dummy = '0;</span></span>
<span class="line" line-num="560" source-line-num="187">                  <span class="tlv_ident_comment">?$trans_valid</span></span>
<span class="line" line-num="561" source-line-num="187">                     <span class="tlv_ident_comment">// This doesn't work because SV complains for FIFOs in replicated context that</span></span>
<span class="line" line-num="562" source-line-num="187">                     <span class="tlv_ident_comment">// there are multiple procedures that assign the signals.</span></span>
<span class="line" line-num="563" source-line-num="187">                     <span class="tlv_ident_comment">// Array writes can be done in an SV module.</span></span>
<span class="line" line-num="564" source-line-num="187">                     <span class="tlv_ident_comment">// The only long-term resolutions are support for module generation and use</span></span>
<span class="line" line-num="565" source-line-num="187">                     <span class="tlv_ident_comment">// signals declared within for loops with cross-hierarchy references in SV.</span></span>
<span class="line" line-num="566" source-line-num="187">                     <span class="tlv_ident_comment">// TODO: To make a simulation-efficient FIFO, use DesignWare.</span></span>
<span class="line" line-num="567" source-line-num="187">                     <span class="tlv_ident_comment">{&gt;entry2[$WrPtr]$$ANY} = $ANY;</span></span>
<span class="line" line-num="568" source-line-num="187">            <span class="tlv_ident_comment">// Read FIFO</span></span>
<span class="line" line-num="569" source-line-num="187">            <span class="tlv_ident_comment">|fifo2_out</span></span>
<span class="line" line-num="570" source-line-num="187">               <span class="tlv_ident_comment">@0</span></span>
<span class="line" line-num="571" source-line-num="187">                  <span class="tlv_ident_comment">&gt;read2</span></span>
<span class="line" line-num="572" source-line-num="187">                     <span class="tlv_ident_comment">$trans_valid = |fifo2_out$trans_valid;</span></span>
<span class="line" line-num="573" source-line-num="187">                     <span class="tlv_ident_comment">?$trans_valid</span></span>
<span class="line" line-num="574" source-line-num="187">                        <span class="tlv_ident_comment">$ANY = &gt;pipe2|pipe2&gt;entry2[|fifo2_out$RdPtr]%+0$ANY;</span></span>
<span class="line" line-num="575" source-line-num="187">                     <span class="tlv_ident_comment">`BOGUS_USE($dummy)</span></span>
<span class="line" line-num="576" source-line-num="187">                  <span class="tlv_ident_comment">?$trans_valid</span></span>
<span class="line" line-num="577" source-line-num="187">                     <span class="tlv_ident_comment">$ANY = &gt;read2$ANY;</span></span>
<span class="line" line-num="578" source-line-num="187">            <span class="tlv_ident_comment">*/</span></span>
<span class="line" line-num="579" source-line-num="187">         <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="580" source-line-num="188">         <span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop&gt;pipe2|fifo2_out">|fifo2_out</span></span>
<span class="line" line-num="581" source-line-num="189">            <span class="tlv_ident_stage_expr" logical_entity="&gt;ring_stop&gt;pipe2|fifo2_out@0">@0</span></span>
<span class="line" line-num="582" source-line-num="190">               <span class="tlv_ident_assigned_pipe_sig" logical_entity="&gt;ring_stop&gt;pipe2|fifo2_out$blocked"stage_in_phases="0">$blocked</span> <span class="tlv_ident_hdl_code">= 1'b0;</span></span>
<span class="line" line-num="583" source-line-num="191">   </span>
<span class="line" line-num="584" source-line-num="192">   <span class="tlv_ident_comment">// Print</span></span>
<span class="line" line-num="585" source-line-num="193">   <span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop">&gt;ring_stop</span><span class="tlv_ident_beh_hier_1">[</span><span class="tlv_ident_hdl_code">*</span><span class="tlv_ident_beh_hier_1">]</span></span>
<span class="line" line-num="586" source-line-num="194">      <span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;stall_pipe">&gt;stall_pipe</span></span>
<span class="line" line-num="587" source-line-num="195">         <span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop&gt;stall_pipe|stall0">|stall0</span></span>
<span class="line" line-num="588" source-line-num="196">            <span class="tlv_ident_stage_expr" logical_entity="&gt;ring_stop&gt;stall_pipe|stall0@0">@0</span></span>
<span class="line" line-num="589" source-line-num="197">               <span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;stall_pipe|stall0&gt;trans">&gt;trans</span></span>
<span class="line" line-num="590" source-line-num="198">                  <span class="tlv_ident_keyword1">\SV_plus</span></span>
<span class="line" line-num="591" source-line-num="199">                     <span class="tlv_ident_hdl_code">always_ff @(posedge clk) begin</span></span>
<span class="line" line-num="592" source-line-num="200">                        <span class="tlv_ident_sv_sig">\</span><span class="tlv_ident_hdl_code">$display(&quot;</span><span class="tlv_ident_sv_sig">\</span><span class="tlv_ident_hdl_code">|stall0[%0d]&quot;, ring_stop);</span></span>
<span class="line" line-num="593" source-line-num="201">                        <span class="tlv_ident_sv_sig">\</span><span class="tlv_ident_hdl_code">$display(&quot;Destination: %0d&quot;, </span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall0&gt;trans$dest"stage_in_phases="0">$dest</span><span class="tlv_ident_hdl_code">);</span></span>
<span class="line" line-num="594" source-line-num="202">                     <span class="tlv_ident_hdl_code">end</span></span>
<span class="line" line-num="595" source-line-num="203">         <span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop&gt;stall_pipe|stall1">|stall1</span></span>
<span class="line" line-num="596" source-line-num="204">            <span class="tlv_ident_stage_expr" logical_entity="&gt;ring_stop&gt;stall_pipe|stall1@0">@0</span></span>
<span class="line" line-num="597" source-line-num="205">               <span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;stall_pipe|stall1&gt;trans">&gt;trans</span></span>
<span class="line" line-num="598" source-line-num="206">                  <span class="tlv_ident_keyword1">\SV_plus</span></span>
<span class="line" line-num="599" source-line-num="207">                     <span class="tlv_ident_hdl_code">always_ff @(posedge clk) begin</span></span>
<span class="line" line-num="600" source-line-num="208">                        <span class="tlv_ident_sv_sig">\</span><span class="tlv_ident_hdl_code">$display(&quot;</span><span class="tlv_ident_sv_sig">\</span><span class="tlv_ident_hdl_code">|stall1[%0d]&quot;, ring_stop);</span></span>
<span class="line" line-num="601" source-line-num="209">                        <span class="tlv_ident_sv_sig">\</span><span class="tlv_ident_hdl_code">$display(&quot;Destination: %0d&quot;, </span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall1&gt;trans$dest"stage_in_phases="0">$dest</span><span class="tlv_ident_hdl_code">);</span></span>
<span class="line" line-num="602" source-line-num="210">                     <span class="tlv_ident_hdl_code">end</span></span>
<span class="line" line-num="603" source-line-num="211">         <span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop&gt;stall_pipe|stall2">|stall2</span></span>
<span class="line" line-num="604" source-line-num="212">            <span class="tlv_ident_stage_expr" logical_entity="&gt;ring_stop&gt;stall_pipe|stall2@0">@0</span></span>
<span class="line" line-num="605" source-line-num="213">               <span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;stall_pipe|stall2&gt;trans">&gt;trans</span></span>
<span class="line" line-num="606" source-line-num="214">                  <span class="tlv_ident_keyword1">\SV_plus</span></span>
<span class="line" line-num="607" source-line-num="215">                     <span class="tlv_ident_hdl_code">always_ff @(posedge clk) begin</span></span>
<span class="line" line-num="608" source-line-num="216">                        <span class="tlv_ident_sv_sig">\</span><span class="tlv_ident_hdl_code">$display(&quot;</span><span class="tlv_ident_sv_sig">\</span><span class="tlv_ident_hdl_code">|stall2[%0d]&quot;, ring_stop);</span></span>
<span class="line" line-num="609" source-line-num="217">                        <span class="tlv_ident_sv_sig">\</span><span class="tlv_ident_hdl_code">$display(&quot;Destination: %0d&quot;, </span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall2&gt;trans$dest"stage_in_phases="0">$dest</span><span class="tlv_ident_hdl_code">);</span></span>
<span class="line" line-num="610" source-line-num="218">                     <span class="tlv_ident_hdl_code">end</span></span>
<span class="line" line-num="611" source-line-num="219">         <span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3">|stall3</span></span>
<span class="line" line-num="612" source-line-num="220">            <span class="tlv_ident_stage_expr" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3@0">@0</span></span>
<span class="line" line-num="613" source-line-num="221">               <span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3&gt;trans">&gt;trans</span></span>
<span class="line" line-num="614" source-line-num="222">                  <span class="tlv_ident_keyword1">\SV_plus</span></span>
<span class="line" line-num="615" source-line-num="223">                     <span class="tlv_ident_hdl_code">always_ff @(posedge clk) begin</span></span>
<span class="line" line-num="616" source-line-num="224">                        <span class="tlv_ident_sv_sig">\</span><span class="tlv_ident_hdl_code">$display(&quot;</span><span class="tlv_ident_sv_sig">\</span><span class="tlv_ident_hdl_code">|stall3[%0d]&quot;, ring_stop);</span></span>
<span class="line" line-num="617" source-line-num="225">                        <span class="tlv_ident_sv_sig">\</span><span class="tlv_ident_hdl_code">$display(&quot;Destination: %0d&quot;, </span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|stall3&gt;trans$dest"stage_in_phases="0">$dest</span><span class="tlv_ident_hdl_code">);</span></span>
<span class="line" line-num="618" source-line-num="226">                     <span class="tlv_ident_hdl_code">end</span></span>
<span class="line" line-num="619" source-line-num="227">         <span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop&gt;stall_pipe|fifo_out">|fifo_out</span></span>
<span class="line" line-num="620" source-line-num="228">            <span class="tlv_ident_stage_expr" logical_entity="&gt;ring_stop&gt;stall_pipe|fifo_out@0">@0</span></span>
<span class="line" line-num="621" source-line-num="229">               <span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;stall_pipe|fifo_out&gt;trans">&gt;trans</span></span>
<span class="line" line-num="622" source-line-num="230">                  <span class="tlv_ident_keyword1">\SV_plus</span></span>
<span class="line" line-num="623" source-line-num="231">                     <span class="tlv_ident_hdl_code">always_ff @(posedge clk) begin</span></span>
<span class="line" line-num="624" source-line-num="232">                        <span class="tlv_ident_sv_sig">\</span><span class="tlv_ident_hdl_code">$display(&quot;</span><span class="tlv_ident_sv_sig">\</span><span class="tlv_ident_hdl_code">|fifo_out[%0d]&quot;, ring_stop);</span></span>
<span class="line" line-num="625" source-line-num="233">                        <span class="tlv_ident_sv_sig">\</span><span class="tlv_ident_hdl_code">$display(&quot;Destination: %0d&quot;, </span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;stall_pipe|fifo_out&gt;trans$dest"stage_in_phases="0">$dest</span><span class="tlv_ident_hdl_code">);</span></span>
<span class="line" line-num="626" source-line-num="234">                     <span class="tlv_ident_hdl_code">end</span></span>
<span class="line" line-num="627" source-line-num="235">      <span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop|ring_in">|ring_in</span></span>
<span class="line" line-num="628" source-line-num="236">         <span class="tlv_ident_stage_expr" logical_entity="&gt;ring_stop|ring_in@0">@0</span></span>
<span class="line" line-num="629" source-line-num="237">            <span class="tlv_ident_keyword1">\SV_plus</span></span>
<span class="line" line-num="630" source-line-num="238">               <span class="tlv_ident_hdl_code">always_ff @(posedge clk) begin</span></span>
<span class="line" line-num="631" source-line-num="239">                  <span class="tlv_ident_sv_sig">\</span><span class="tlv_ident_hdl_code">$display(&quot;</span><span class="tlv_ident_sv_sig">\</span><span class="tlv_ident_hdl_code">|ring_in[%0d]&quot;, ring_stop);</span></span>
<span class="line" line-num="632" source-line-num="240">                  <span class="tlv_ident_sv_sig">\</span><span class="tlv_ident_hdl_code">$display(&quot;Destination: %0d&quot;, </span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop|ring_in$dest"stage_in_phases="0">$dest</span><span class="tlv_ident_hdl_code">);</span></span>
<span class="line" line-num="633" source-line-num="241">               <span class="tlv_ident_hdl_code">end</span></span>
<span class="line" line-num="634" source-line-num="242">      <span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop|ring_out">|ring_out</span></span>
<span class="line" line-num="635" source-line-num="243">         <span class="tlv_ident_stage_expr" logical_entity="&gt;ring_stop|ring_out@2">@1</span></span>
<span class="line" line-num="636" source-line-num="244">            <span class="tlv_ident_keyword1">\SV_plus</span></span>
<span class="line" line-num="637" source-line-num="245">               <span class="tlv_ident_hdl_code">always_ff @(posedge clk) begin</span></span>
<span class="line" line-num="638" source-line-num="246">                  <span class="tlv_ident_sv_sig">\</span><span class="tlv_ident_hdl_code">$display(&quot;</span><span class="tlv_ident_sv_sig">\</span><span class="tlv_ident_hdl_code">|ring_out[%0d]&quot;, ring_stop);</span></span>
<span class="line" line-num="639" source-line-num="247">                  <span class="tlv_ident_sv_sig">\</span><span class="tlv_ident_hdl_code">$display(&quot;Destination: %0d&quot;, </span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop|ring_out$dest"stage_in_phases="2">$dest</span><span class="tlv_ident_hdl_code">);</span></span>
<span class="line" line-num="640" source-line-num="248">               <span class="tlv_ident_hdl_code">end</span></span>
<span class="line" line-num="641" source-line-num="249">      <span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop|pipe1">|pipe1</span></span>
<span class="line" line-num="642" source-line-num="250">         <span class="tlv_ident_stage_expr" logical_entity="&gt;ring_stop|pipe1@0">@0</span></span>
<span class="line" line-num="643" source-line-num="251">            <span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop|pipe1&gt;trans">&gt;trans</span></span>
<span class="line" line-num="644" source-line-num="252">               <span class="tlv_ident_keyword1">\SV_plus</span></span>
<span class="line" line-num="645" source-line-num="253">                  <span class="tlv_ident_hdl_code">always_ff @(posedge clk) begin</span></span>
<span class="line" line-num="646" source-line-num="254">                     <span class="tlv_ident_sv_sig">\</span><span class="tlv_ident_hdl_code">$display(&quot;</span><span class="tlv_ident_sv_sig">\</span><span class="tlv_ident_hdl_code">|pipe1[%0d]&quot;, ring_stop);</span></span>
<span class="line" line-num="647" source-line-num="255">                     <span class="tlv_ident_sv_sig">\</span><span class="tlv_ident_hdl_code">$display(&quot;Destination: %0d&quot;, </span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop|pipe1&gt;trans$dest"stage_in_phases="0">$dest</span><span class="tlv_ident_hdl_code">);</span></span>
<span class="line" line-num="648" source-line-num="256">                  <span class="tlv_ident_hdl_code">end</span></span>
<span class="line" line-num="649" source-line-num="257">      <span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop|arb_out">|arb_out</span></span>
<span class="line" line-num="650" source-line-num="258">         <span class="tlv_ident_stage_expr" logical_entity="&gt;ring_stop|arb_out@0">@0</span></span>
<span class="line" line-num="651" source-line-num="259">            <span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop|arb_out&gt;trans">&gt;trans</span></span>
<span class="line" line-num="652" source-line-num="260">               <span class="tlv_ident_keyword1">\SV_plus</span></span>
<span class="line" line-num="653" source-line-num="261">                  <span class="tlv_ident_hdl_code">always_ff @(posedge clk) begin</span></span>
<span class="line" line-num="654" source-line-num="262">                     <span class="tlv_ident_sv_sig">\</span><span class="tlv_ident_hdl_code">$display(&quot;</span><span class="tlv_ident_sv_sig">\</span><span class="tlv_ident_hdl_code">|arb_out[%0d]&quot;, ring_stop);</span></span>
<span class="line" line-num="655" source-line-num="263">                     <span class="tlv_ident_sv_sig">\</span><span class="tlv_ident_hdl_code">$display(&quot;Destination: %0d&quot;, </span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop|arb_out&gt;trans$dest"stage_in_phases="0">$dest</span><span class="tlv_ident_hdl_code">);</span></span>
<span class="line" line-num="656" source-line-num="264">                  <span class="tlv_ident_hdl_code">end</span></span>
<span class="line" line-num="657" source-line-num="265">      <span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;pipe2">&gt;pipe2</span></span>
<span class="line" line-num="658" source-line-num="266">         <span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop&gt;pipe2|pipe2">|pipe2</span></span>
<span class="line" line-num="659" source-line-num="267">            <span class="tlv_ident_stage_expr" logical_entity="&gt;ring_stop&gt;pipe2|pipe2@0">@0</span></span>
<span class="line" line-num="660" source-line-num="268">               <span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;pipe2|pipe2&gt;trans">&gt;trans</span></span>
<span class="line" line-num="661" source-line-num="269">                  <span class="tlv_ident_keyword1">\SV_plus</span></span>
<span class="line" line-num="662" source-line-num="270">                     <span class="tlv_ident_hdl_code">always_ff @(posedge clk) begin</span></span>
<span class="line" line-num="663" source-line-num="271">                        <span class="tlv_ident_sv_sig">\</span><span class="tlv_ident_hdl_code">$display(&quot;</span><span class="tlv_ident_sv_sig">\</span><span class="tlv_ident_hdl_code">|pipe2[%0d]&quot;, ring_stop);</span></span>
<span class="line" line-num="664" source-line-num="272">                        <span class="tlv_ident_sv_sig">\</span><span class="tlv_ident_hdl_code">$display(&quot;Destination: %0d&quot;, </span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;pipe2|pipe2&gt;trans$dest"stage_in_phases="0">$dest</span><span class="tlv_ident_hdl_code">);</span></span>
<span class="line" line-num="665" source-line-num="273">                     <span class="tlv_ident_hdl_code">end</span></span>
<span class="line" line-num="666" source-line-num="274">         <span class="tlv_ident_pipeline" logical_entity="&gt;ring_stop&gt;pipe2|fifo2_out">|fifo2_out</span></span>
<span class="line" line-num="667" source-line-num="275">            <span class="tlv_ident_stage_expr" logical_entity="&gt;ring_stop&gt;pipe2|fifo2_out@0">@0</span></span>
<span class="line" line-num="668" source-line-num="276">               <span class="tlv_ident_beh_hier_1" logical_entity="&gt;ring_stop&gt;pipe2|fifo2_out&gt;trans">&gt;trans</span></span>
<span class="line" line-num="669" source-line-num="277">                  <span class="tlv_ident_keyword1">\SV_plus</span></span>
<span class="line" line-num="670" source-line-num="278">                     <span class="tlv_ident_hdl_code">always_ff @(posedge clk) begin</span></span>
<span class="line" line-num="671" source-line-num="279">                        <span class="tlv_ident_sv_sig">\</span><span class="tlv_ident_hdl_code">$display(&quot;</span><span class="tlv_ident_sv_sig">\</span><span class="tlv_ident_hdl_code">|fifo2_out[%0d]&quot;, ring_stop);</span></span>
<span class="line" line-num="672" source-line-num="280">                        <span class="tlv_ident_sv_sig">\</span><span class="tlv_ident_hdl_code">$display(&quot;Destination: %0d&quot;, </span><span class="tlv_ident_pipe_sig" logical_entity="&gt;ring_stop&gt;pipe2|fifo2_out&gt;trans$dest"stage_in_phases="0">$dest</span><span class="tlv_ident_hdl_code">);</span></span>
<span class="line" line-num="673" source-line-num="281">                     <span class="tlv_ident_hdl_code">end</span></span>
<span class="line" line-num="674" source-line-num="282"></span>
<span class="line" line-num="675" source-line-num="283"><span class="tlv_ident_keyword1">\SV</span></span>
<span class="line" line-num="676" source-line-num="284"><span class="tlv_ident_hdl_code">endmodule </span><span class="tlv_ident_comment">// slide_flow</span></span>

</pre>

</body>
</html>
